{"version":3,"file":"index.js","sources":["../../main.js"],"sourcesContent":["import './style.css'\r\n\r\n// App version for cache busting\r\nconst APP_VERSION = '2.1.0';\r\nconst VERSION_CHECK_INTERVAL = 60000; // Check every 60 seconds (reduced frequency)\r\nlet lastUpdateCheck = 0;\r\nlet updateNotificationShown = false;\r\n\r\n// Aggressive anti-caching function\r\nfunction preventBrowserCaching() {\r\n  // Clear any existing service worker registrations\r\n  if ('serviceWorker' in navigator) {\r\n    navigator.serviceWorker.getRegistrations().then(function(registrations) {\r\n      for(let registration of registrations) {\r\n        registration.unregister();\r\n        console.log('üßπ Cleared service worker:', registration.scope);\r\n      }\r\n    });\r\n  }\r\n\r\n  // Clear all types of browser storage\r\n  try {\r\n    localStorage.clear();\r\n    sessionStorage.clear();\r\n    \r\n    // Clear IndexedDB if available\r\n    if ('indexedDB' in window) {\r\n      indexedDB.databases().then(databases => {\r\n        databases.forEach(db => {\r\n          indexedDB.deleteDatabase(db.name);\r\n        });\r\n      }).catch(() => {});\r\n    }\r\n    \r\n    console.log('üßπ Cleared browser storage');\r\n  } catch (e) {\r\n    console.log('‚ö†Ô∏è Could not clear some storage:', e);\r\n  }\r\n\r\n  // Add cache-busting parameters to all requests\r\n  const timestamp = Date.now();\r\n  \r\n  // Override fetch to add cache-busting\r\n  const originalFetch = window.fetch;\r\n  window.fetch = function(...args) {\r\n    let url = args[0];\r\n    if (typeof url === 'string') {\r\n      const separator = url.includes('?') ? '&' : '?';\r\n      url += `${separator}_cb=${timestamp}&_t=${Date.now()}`;\r\n      args[0] = url;\r\n    }\r\n    return originalFetch.apply(this, args);\r\n  };\r\n\r\n  // Force reload stylesheets with cache busting\r\n  const links = document.querySelectorAll('link[rel=\"stylesheet\"]');\r\n  links.forEach(link => {\r\n    const href = link.href.split('?')[0];\r\n    link.href = `${href}?v=${timestamp}&t=${Date.now()}`;\r\n  });\r\n\r\n  // Monitor and prevent future caching\r\n  setInterval(() => {\r\n    // Clear any caches that might have been created\r\n    if ('caches' in window) {\r\n      caches.keys().then(cacheNames => {\r\n        cacheNames.forEach(cacheName => {\r\n          caches.delete(cacheName);\r\n        });\r\n      });\r\n    }\r\n    \r\n    // Clear service workers that might register\r\n    if ('serviceWorker' in navigator) {\r\n      navigator.serviceWorker.getRegistrations().then(registrations => {\r\n        registrations.forEach(registration => {\r\n          registration.unregister();\r\n        });\r\n      });\r\n    }\r\n  }, 30000); // Check every 30 seconds\r\n\r\n  console.log('üöÄ Anti-caching measures activated with monitoring');\r\n}\r\n\r\n// Cache busting and version control\r\nfunction setupCacheBusting() {\r\n  // Store the current version in localStorage\r\n  const storedVersion = localStorage.getItem('app_version');\r\n  if (!storedVersion) {\r\n    localStorage.setItem('app_version', APP_VERSION);\r\n  }\r\n  \r\n  // Check for updates if online\r\n  if (navigator.onLine) {\r\n    setTimeout(() => checkForUpdates(), 5000); // Initial check after 5 seconds\r\n    \r\n    // Periodic update checks with cooldown\r\n    setInterval(() => {\r\n      const now = Date.now();\r\n      if (navigator.onLine && now - lastUpdateCheck > VERSION_CHECK_INTERVAL) {\r\n        checkForUpdates();\r\n        lastUpdateCheck = now;\r\n      }\r\n    }, VERSION_CHECK_INTERVAL);\r\n  }\r\n  \r\n  // Listen for online events\r\n  window.addEventListener('online', () => {\r\n    const now = Date.now();\r\n    if (now - lastUpdateCheck > 30000) { // At least 30 seconds between online checks\r\n      checkForUpdates();\r\n      lastUpdateCheck = now;\r\n    }\r\n  });\r\n}\r\n\r\n// Check for app updates\r\nasync function checkForUpdates() {\r\n  try {\r\n    // Prevent multiple simultaneous checks\r\n    if (updateNotificationShown) {\r\n      return;\r\n    }\r\n\r\n    // Fetch the main JS file to check for version changes\r\n    const response = await fetch(`/main.js?v=${Date.now()}`, {\r\n      method: 'GET',\r\n      headers: {\r\n        'Cache-Control': 'no-cache, no-store, must-revalidate',\r\n        'Pragma': 'no-cache',\r\n        'Expires': '0'\r\n      }\r\n    });\r\n    \r\n    if (response.ok) {\r\n      const jsContent = await response.text();\r\n      \r\n      // Extract version from the fetched content\r\n      const versionMatch = jsContent.match(/const APP_VERSION = ['\"`]([^'\"`]+)['\"`]/);\r\n      const fetchedVersion = versionMatch ? versionMatch[1] : null;\r\n      \r\n      // Compare with stored version\r\n      const storedVersion = localStorage.getItem('app_version');\r\n      \r\n      if (fetchedVersion && fetchedVersion !== storedVersion && fetchedVersion !== APP_VERSION) {\r\n        // Real version change detected\r\n        console.log(`Update detected: ${storedVersion} ‚Üí ${fetchedVersion}`);\r\n        showUpdateNotification();\r\n        updateNotificationShown = true;\r\n      }\r\n    }\r\n  } catch (error) {\r\n    console.log('Update check failed (offline or network error)');\r\n  }\r\n}\r\n\r\n// Simple hash function for comparison\r\nfunction simpleHash(str) {\r\n  let hash = 0;\r\n  for (let i = 0; i < str.length; i++) {\r\n    const char = str.charCodeAt(i);\r\n    hash = ((hash << 5) - hash) + char;\r\n    hash = hash & hash; // Convert to 32bit integer\r\n  }\r\n  return hash;\r\n}\r\n\r\n// Show update notification to user\r\nfunction showUpdateNotification() {\r\n  // Update notifications are disabled - function does nothing\r\n  return;\r\n}\r\n\r\n// Update the app\r\nfunction updateApp() {\r\n  // Update stored version\r\n  localStorage.setItem('app_version', APP_VERSION);\r\n  // Force reload with cache clearing\r\n  window.location.reload(true);\r\n}\r\n\r\n// Dismiss update notification\r\nfunction dismissUpdate() {\r\n  const notification = document.querySelector('.update-notification');\r\n  if (notification) {\r\n    notification.remove();\r\n    updateNotificationShown = false;\r\n    // Don't check for updates again for 10 minutes\r\n    lastUpdateCheck = Date.now() + (10 * 60 * 1000);\r\n  }\r\n}\r\n\r\n// App initialization\r\ndocument.addEventListener('DOMContentLoaded', function() {\r\n  // Activate anti-caching measures first\r\n  preventBrowserCaching();\r\n  \r\n  // Fix form encoding immediately when DOM is ready\r\n  fixFormEncoding();\r\n  \r\n  // setupCacheBusting(); // DISABLED for instant updates\r\n  // First-visit animation: only on first load\r\n  if (!localStorage.getItem('siteVisited')) {\r\n    const hero = document.querySelector('.hero-section');\r\n    hero && hero.classList.add('animate-first');\r\n    localStorage.setItem('siteVisited', 'true');\r\n  }\r\n  initializeApp();\r\n  setupRouting();\r\n  \r\n  // Wait for Firebase to be ready before initializing auth\r\n  const waitForFirebase = () => {\r\n    console.log('üîç Checking Firebase availability...');\r\n    \r\n    // Check if Firebase SDK is loaded\r\n    if (typeof firebase === 'undefined') {\r\n      console.error('‚ùå Firebase SDK not loaded');\r\n      showNotification('Authentication service unavailable. Please refresh the page.', 'error');\r\n      return;\r\n    }\r\n    \r\n    // Check if our Firebase config is loaded\r\n    if (window.firebaseAuth && window.googleProvider) {\r\n      setupAuthentication();\r\n      console.log('üîê Authentication system initialized');\r\n    } else {\r\n      console.log('‚è≥ Waiting for Firebase config...');\r\n      \r\n      // If Firebase config fails to load after 5 seconds, show error\r\n      setTimeout(() => {\r\n        if (!window.firebaseAuth) {\r\n          console.error('‚ùå Firebase configuration failed to load');\r\n          showNotification('Authentication configuration failed. Please refresh the page.', 'error');\r\n        }\r\n      }, 5000);\r\n      \r\n      setTimeout(waitForFirebase, 100);\r\n    }\r\n  };\r\n  \r\n  waitForFirebase();\r\n  \r\n  // Backup Firebase initialization if config file fails to load\r\n  setTimeout(() => {\r\n    if (typeof firebase !== 'undefined' && !window.firebaseAuth) {\r\n      console.log('üîÑ Initializing Firebase as backup...');\r\n      \r\n      try {\r\n        // Firebase Configuration (backup)\r\n        const firebaseConfig = {\r\n          apiKey: \"AIzaSyD6dEYItWa6W6xhcQGQAg2YlSKW_pgplYA\",\r\n          authDomain: \"sahil-s-web.firebaseapp.com\",\r\n          projectId: \"sahil-s-web\",\r\n          storageBucket: \"sahil-s-web.firebasestorage.app\",\r\n          messagingSenderId: \"694102244011\",\r\n          appId: \"1:694102244011:web:31feaf0b244fba9bbd95ee\"\r\n        };\r\n        \r\n        // Check if Firebase is already initialized\r\n        if (!firebase.apps.length) {\r\n          firebase.initializeApp(firebaseConfig);\r\n        }\r\n        \r\n        // Initialize Firebase Auth\r\n        const auth = firebase.auth();\r\n        \r\n        // Google Auth Provider\r\n        const googleProvider = new firebase.auth.GoogleAuthProvider();\r\n        googleProvider.addScope('email');\r\n        googleProvider.addScope('profile');\r\n        googleProvider.setCustomParameters({\r\n          prompt: 'select_account'\r\n        });\r\n        \r\n        // Export for use\r\n        window.firebaseAuth = auth;\r\n        window.googleProvider = googleProvider;\r\n        \r\n        console.log('‚úÖ Backup Firebase initialization successful');\r\n        setupAuthentication();\r\n        \r\n      } catch (error) {\r\n        console.error('‚ùå Backup Firebase initialization failed:', error);\r\n        showNotification('Authentication system failed to initialize. Some features may not work.', 'error');\r\n      }\r\n    }\r\n  }, 2000); // Wait 2 seconds before trying backup\r\n  \r\n  // registerServiceWorker(); // DISABLED for instant updates\r\n});\r\n\r\n// Make functions globally available for onclick handlers\r\nwindow.updateApp = updateApp;\r\nwindow.dismissUpdate = dismissUpdate;\r\n\r\n// Service Worker Registration DISABLED for instant updates\r\n// async function registerServiceWorker() {\r\n//   if ('serviceWorker' in navigator) {\r\n//     try {\r\n//       const registration = await navigator.serviceWorker.register('/sw.js');\r\n//       console.log('‚úÖ Service Worker registered successfully:', registration.scope);\r\n//       \r\n//       // Handle service worker updates\r\n//       registration.addEventListener('updatefound', () => {\r\n//         const newWorker = registration.installing;\r\n//         newWorker.addEventListener('statechange', () => {\r\n//           if (newWorker.state === 'installed' && navigator.serviceWorker.controller) {\r\n//             showNotification('üîÑ App update available! Refresh to update.', 'info');\r\n//           }\r\n//         });\r\n//       });\r\n//       \r\n//       // Check for updates periodically\r\n//       setInterval(() => {\r\n//         registration.update();\r\n//       }, 60000); // Check every minute\r\n//       \r\n//     } catch (error) {\r\n//       console.error('‚ùå Service Worker registration failed:', error);\r\n//     }\r\n//   } else {\r\n//     console.log('‚ö†Ô∏è Service Workers not supported in this browser');\r\n//   }\r\n\r\n//   // Add PWA install prompt\r\n//   setupPWAInstallPrompt();\r\n// }\r\n\r\n// PWA Install Prompt DISABLED\r\n// function setupPWAInstallPrompt() {\r\n//   let deferredPrompt;\r\n  \r\n//   window.addEventListener('beforeinstallprompt', (e) => {\r\n//     console.log('üí° PWA install prompt available');\r\n//     e.preventDefault();\r\n//     deferredPrompt = e;\r\n//   // window.addEventListener('beforeinstallprompt', (e) => {\r\n//   //   console.log('üí° PWA install prompt available');\r\n//   //   e.preventDefault();\r\n//   //   deferredPrompt = e;\r\n    \r\n//   //   // Show custom install button\r\n//   //   showPWAInstallButton(deferredPrompt);\r\n//   // });\r\n  \r\n//   // window.addEventListener('appinstalled', () => {\r\n//   //   console.log('üéâ PWA installed successfully');\r\n//   //   showNotification('üéâ App installed! You can now use it offline.', 'success');\r\n//   //   deferredPrompt = null;\r\n//   // });\r\n// }\r\n\r\n// function showPWAInstallButton(deferredPrompt) {\r\n//   // Create install button\r\n//   const installBtn = document.createElement('button');\r\n//   installBtn.className = 'btn btn-primary pwa-install-btn';\r\n//   installBtn.innerHTML = 'üì± Install App';\r\n//   installBtn.style.cssText = `\r\n//     position: fixed;\r\n//     bottom: 20px;\r\n//     right: 20px;\r\n//     z-index: 9999;\r\n//     animation: pulseGlow 2s infinite;\r\n//     box-shadow: 0 4px 20px rgba(102, 126, 234, 0.4);\r\n//   `;\r\n  \r\n//   installBtn.onclick = async () => {\r\n//     if (deferredPrompt) {\r\n//       deferredPrompt.prompt();\r\n//       const { outcome } = await deferredPrompt.userChoice;\r\n//       console.log(`PWA install ${outcome}`);\r\n      \r\n//       if (outcome === 'accepted') {\r\n//         installBtn.remove();\r\n//       }\r\n//       deferredPrompt = null;\r\n//     }\r\n//   };\r\n  \r\n//   document.body.appendChild(installBtn);\r\n  \r\n//   // Auto-hide after 30 seconds\r\n//   setTimeout(() => {\r\n//     if (installBtn.parentNode) {\r\n//       installBtn.remove();\r\n//     }\r\n//   }, 30000);\r\n// }\r\n\r\nfunction initializeApp() {\r\n  // iOS-specific fixes\r\n  setupiOSFixes();\r\n  \r\n  // Setup admin panel (hidden feature)\r\n  setupAdminPanel();\r\n  \r\n  setupModalHandlers();\r\n  setupMobileMenu();\r\n  setupFormHandlers();\r\n  setupFormValidation();\r\n  setupScrollEffects();\r\n  setupThemeToggle();\r\n  setupDynamicBackground();\r\n  setupButtonShimmer();\r\n  setupGamesNavigation();\r\n  setupTicTacToe();\r\n  setupMemoryGame();\r\n  setupSnakeGame();\r\n  setupBrandNavigation();\r\n  setupVideoPlayer();\r\n  \r\n  // Apply IDM protection\r\n  preventIDMDownload();\r\n  \r\n  // Fix form encoding attributes\r\n  fixFormEncoding();\r\n}\r\n\r\n// Admin functionality (hidden feature - press Ctrl+Shift+U to access)\r\nfunction setupAdminPanel() {\r\n  document.addEventListener('keydown', (e) => {\r\n    if (e.ctrlKey && e.shiftKey && e.key === 'U') {\r\n      showUserDatabase();\r\n    }\r\n  });\r\n}\r\n\r\nfunction showUserDatabase() {\r\n  // Admin notifications disabled - function does nothing\r\n  return;\r\n}\r\n\r\n// Additional utility functions for better UX\r\nfunction clearFormErrors() {\r\n  // Clear old style errors\r\n  const errorElements = document.querySelectorAll('.field-error');\r\n  errorElements.forEach(error => error.remove());\r\n  \r\n  // Clear new style errors\r\n  const errorMessages = document.querySelectorAll('.error-message');\r\n  errorMessages.forEach(error => {\r\n    error.style.display = 'none';\r\n    error.classList.remove('show');\r\n  });\r\n}\r\n\r\nfunction showFieldError(fieldId, message) {\r\n  // First try to find the new style error element\r\n  const errorElement = document.getElementById(fieldId);\r\n  if (errorElement && errorElement.classList.contains('error-message')) {\r\n    errorElement.textContent = message;\r\n    errorElement.style.display = 'block';\r\n    errorElement.classList.add('show');\r\n    return;\r\n  }\r\n  \r\n  // Fallback to old style for backward compatibility\r\n  clearFormErrors();\r\n  const field = document.getElementById(fieldId.replace('Error', ''));\r\n  if (field) {\r\n    const errorDiv = document.createElement('div');\r\n    errorDiv.className = 'field-error';\r\n    errorDiv.style.cssText = `\r\n      color: #ff4757;\r\n      font-size: 0.875rem;\r\n      margin-top: 0.25rem;\r\n      animation: fadeIn 0.3s ease;\r\n    `;\r\n    errorDiv.textContent = message;\r\n    field.parentNode.appendChild(errorDiv);\r\n    field.focus();\r\n  }\r\n}\r\n\r\n// Enhanced form validation with real-time feedback\r\nfunction setupFormValidation() {\r\n  const emailInputs = document.querySelectorAll('input[type=\"email\"]');\r\n  const passwordInputs = document.querySelectorAll('input[type=\"password\"]');\r\n  \r\n  emailInputs.forEach(input => {\r\n    input.addEventListener('blur', () => {\r\n      if (input.value && !isValidEmail(input.value)) {\r\n        showFieldError(input.id, 'Please enter a valid email address');\r\n      } else {\r\n        clearFormErrors();\r\n      }\r\n    });\r\n  });\r\n  \r\n  passwordInputs.forEach(input => {\r\n    if (input.id === 'signupPassword') {\r\n      input.addEventListener('input', () => {\r\n        if (input.value.length > 0) {\r\n          const validation = validatePassword(input.value);\r\n          if (!validation.valid) {\r\n            showFieldError(input.id, validation.message);\r\n          } else {\r\n            clearFormErrors();\r\n          }\r\n        }\r\n      });\r\n    }\r\n  });\r\n}\r\n\r\n// URL Routing and History Management\r\nfunction setupRouting() {\r\n  // Handle browser back/forward buttons\r\n  window.addEventListener('popstate', handlePopState);\r\n  \r\n  // Handle navigation links\r\n  setupNavigationLinks();\r\n  \r\n  // Load initial route\r\n  handlePopState();\r\n}\r\n\r\nfunction handlePopState() {\r\n  const hash = window.location.hash || '#home';\r\n  navigateToSection(hash.substring(1), false); // Remove # and don't add to history\r\n}\r\n\r\nfunction setupNavigationLinks() {\r\n  // Navigation menu links\r\n  const navLinks = document.querySelectorAll('.nav-links a');\r\n  navLinks.forEach(link => {\r\n    link.addEventListener('click', (e) => {\r\n      e.preventDefault();\r\n      const section = link.getAttribute('href').substring(1); // Remove #\r\n      navigateToSection(section, true);\r\n    });\r\n  });\r\n}\r\n\r\nfunction navigateToSection(section, addToHistory = true) {\r\n  const heroSection = document.querySelector('.hero-section');\r\n  const gamesSection = document.getElementById('gamesSection');\r\n  const ticTacToeGame = document.getElementById('ticTacToeGame');\r\n  const memoryGame = document.getElementById('memoryGame');\r\n  const snakeGame = document.getElementById('snakeGame');\r\n  const heroVideo = document.querySelector('.hero-video');\r\n  \r\n  // Pause video audio when leaving home tab\r\n  if (section !== 'home' && section !== 'default') {\r\n    pauseVideoAudio();\r\n  }\r\n  \r\n  // Hide all sections first\r\n  heroSection.style.display = 'none';\r\n  gamesSection.style.display = 'none';\r\n  ticTacToeGame.style.display = 'none';\r\n  memoryGame.style.display = 'none';\r\n  snakeGame.style.display = 'none';\r\n  \r\n  // Hide video by default\r\n  if (heroVideo) {\r\n    heroVideo.style.display = 'none';\r\n  }\r\n  \r\n  // Update URL and history\r\n  if (addToHistory) {\r\n    history.pushState({ section }, '', `#${section}`);\r\n  }\r\n  \r\n  // Show appropriate section and create content\r\n  switch (section) {\r\n    case 'home':\r\n      heroSection.style.display = 'block';\r\n      // Show video only on home tab\r\n      if (heroVideo) {\r\n        heroVideo.style.display = 'block';\r\n      }\r\n      // Sync video state when returning to home\r\n      syncVideoStateOnReturn();\r\n      updateHeroContent('home');\r\n      break;\r\n    case 'features':\r\n      heroSection.style.display = 'block';\r\n      updateHeroContent('features');\r\n      break;\r\n    case 'about':\r\n      heroSection.style.display = 'block';\r\n      updateHeroContent('about');\r\n      break;\r\n    case 'contact':\r\n      heroSection.style.display = 'block';\r\n      updateHeroContent('contact');\r\n      break;\r\n    case 'games':\r\n      gamesSection.style.display = 'block';\r\n      break;\r\n    case 'tic-tac-toe':\r\n      ticTacToeGame.style.display = 'block';\r\n      resetTicTacToeGame();\r\n      break;\r\n    case 'memory-game':\r\n      memoryGame.style.display = 'block';\r\n      resetMemoryGame();\r\n      break;\r\n    case 'snake-game':\r\n      snakeGame.style.display = 'block';\r\n      resetSnakeGame();\r\n      break;\r\n    default:\r\n      heroSection.style.display = 'block';\r\n      // Show video for default (home) case too\r\n      if (heroVideo) {\r\n        heroVideo.style.display = 'block';\r\n      }\r\n      updateHeroContent('home');\r\n  }\r\n  \r\n  // Update active nav link\r\n  updateActiveNavLink(section);\r\n}\r\n\r\nfunction updateHeroContent(section) {\r\n  const heroTitle = document.querySelector('.hero-section h2');\r\n  const heroText = document.querySelector('.hero-section p');\r\n  const getStartedBtn = document.getElementById('getStartedBtn');\r\n  const learnMoreBtn = document.getElementById('learnMoreBtn');\r\n  const emojiBtn = document.getElementById('emojiBtn');\r\n  \r\n  const content = {\r\n    home: {\r\n      title: \"Welcome to Sahil's Website\",\r\n      text: \"Experience the future of web applications with our sleek and modern interface.\",\r\n      showGamesButton: true\r\n    },\r\n    features: {\r\n      title: \"Amazing Features\",\r\n      text: \"Discover powerful tools and capabilities designed to enhance your experience with cutting-edge technology.\",\r\n      showGamesButton: false\r\n    },\r\n    about: {\r\n      title: \"About Sahil's Website\",\r\n      text: `üëã Hi, I'm Sahil!<br>\r\n      <br>\r\n      <span style=\"font-size:1.2em;\">üíª I love <strong>technology</strong>, <strong>coding</strong>, and exploring <strong>science</strong>!<br>\r\n      üèÄ I'm also passionate about <strong>basketball</strong>.<br></span>\r\n      <br>\r\n      This website is designed to bring you <strong>fun games</strong> üéÆ and <strong>useful tools</strong> üõ†Ô∏è for your everyday needs.<br>\r\n      <br>\r\n      <span style=\"color:var(--primary-color);font-weight:500;\">Our mission:</span> <br>\r\n      <span style=\"font-size:1.1em;\">To create beautiful, functional, and user-friendly web experiences that inspire curiosity and creativity.</span><br>\r\n      <br>\r\n      <span style=\"font-size:1.2em;\">‚ú® Explore, play, and enjoy!</span>`,\r\n      showGamesButton: false\r\n    },\r\n    contact: {\r\n      title: \"Get In Touch\",\r\n      text: \"Ready to start your journey? Contact us today and let's build something amazing together.\",\r\n      showGamesButton: false\r\n    }\r\n  };\r\n  \r\n  const sectionContent = content[section] || content.home;\r\n  \r\n  heroTitle.textContent = sectionContent.title;\r\n  heroText.innerHTML = sectionContent.text;\r\n  \r\n  // Show/hide buttons based on section\r\n  if (sectionContent.showGamesButton) {\r\n    getStartedBtn.style.display = 'inline-flex';\r\n    getStartedBtn.textContent = 'Get Started';\r\n    learnMoreBtn.style.display = 'inline-flex';\r\n    learnMoreBtn.textContent = 'Learn More';\r\n    emojiBtn.style.display = 'none';\r\n  } else {\r\n    getStartedBtn.style.display = 'inline-flex';\r\n    getStartedBtn.textContent = section === 'contact' ? 'Contact Us' : section === 'features' ? 'Go Back to Home' : 'Learn More';\r\n    \r\n    // Show Learn More button only on home page, show emoji button only on features page\r\n    if (section === 'home') {\r\n      learnMoreBtn.style.display = 'inline-flex';\r\n      learnMoreBtn.textContent = 'Learn More';\r\n      emojiBtn.style.display = 'none';\r\n    } else if (section === 'features') {\r\n      learnMoreBtn.style.display = 'none';\r\n      emojiBtn.style.display = 'inline-flex';\r\n    } else {\r\n      learnMoreBtn.style.display = 'none';\r\n      emojiBtn.style.display = 'none';\r\n    }\r\n  }\r\n}\r\n\r\nfunction updateActiveNavLink(section) {\r\n  const navLinks = document.querySelectorAll('.nav-links a');\r\n  navLinks.forEach(link => {\r\n    const linkSection = link.getAttribute('href').substring(1);\r\n    if (linkSection === section) {\r\n      link.style.color = 'var(--primary-color)';\r\n    } else {\r\n      link.style.color = '';\r\n    }\r\n  });\r\n}\r\n\r\n// Modal Management - Global functions\r\nfunction openModal(modal) {\r\n  if (!modal) {\r\n    console.error('‚ùå Modal element not found');\r\n    return;\r\n  }\r\n  \r\n  const modalOverlay = document.getElementById('modalOverlay');\r\n  if (!modalOverlay) {\r\n    console.error('‚ùå Modal overlay not found');\r\n    return;\r\n  }\r\n  \r\n  console.log('üîì Opening modal:', modal.id);\r\n  \r\n  modal.style.display = 'flex';\r\n  modalOverlay.style.display = 'block';\r\n  setTimeout(() => {\r\n    modal.classList.add('active');\r\n    modalOverlay.classList.add('active');\r\n  }, 10);\r\n  document.body.style.overflow = 'hidden';\r\n  \r\n  // Focus first input\r\n  const firstInput = modal.querySelector('input');\r\n  if (firstInput) {\r\n    setTimeout(() => firstInput.focus(), 300);\r\n  }\r\n}\r\n\r\nfunction closeModal(modal) {\r\n  if (!modal) return;\r\n  \r\n  const modalOverlay = document.getElementById('modalOverlay');\r\n  console.log('üîí Closing modal:', modal.id);\r\n  \r\n  modal.classList.remove('active');\r\n  if (modalOverlay) {\r\n    modalOverlay.classList.remove('active');\r\n  }\r\n  \r\n  setTimeout(() => {\r\n    modal.style.display = 'none';\r\n    if (!document.querySelector('.modal.active') && modalOverlay) {\r\n      modalOverlay.style.display = 'none';\r\n      document.body.style.overflow = '';\r\n    }\r\n  }, 300);\r\n  clearFormErrors();\r\n}\r\n\r\nfunction closeAllModals() {\r\n  const modals = document.querySelectorAll('.modal');\r\n  modals.forEach(modal => closeModal(modal));\r\n}\r\n\r\nfunction setupModalHandlers() {\r\n  console.log('Modal handlers initialized');\r\n}\r\n\r\n// Mobile Menu\r\nfunction setupMobileMenu() {\r\n  const mobileToggle = document.getElementById('mobileToggle');\r\n  const mobileSlideMenu = document.getElementById('mobileSlideMenu');\r\n  const mobileMenuOverlay = document.getElementById('mobileMenuOverlay');\r\n  const mobileMenuClose = document.getElementById('mobileMenuClose');\r\n  const mobileNavLinks = document.querySelectorAll('.mobile-nav-links a');\r\n\r\n  // Open mobile menu\r\n  function openMobileMenu() {\r\n    mobileSlideMenu.classList.add('active');\r\n    mobileMenuOverlay.classList.add('active');\r\n    mobileToggle.classList.add('active');\r\n    document.body.style.overflow = 'hidden';\r\n  }\r\n\r\n  // Close mobile menu\r\n  function closeMobileMenu() {\r\n    mobileSlideMenu.classList.remove('active');\r\n    mobileMenuOverlay.classList.remove('active');\r\n    mobileToggle.classList.remove('active');\r\n    document.body.style.overflow = 'auto';\r\n  }\r\n\r\n  // Event listeners\r\n  mobileToggle.addEventListener('click', openMobileMenu);\r\n  mobileMenuClose.addEventListener('click', closeMobileMenu);\r\n  mobileMenuOverlay.addEventListener('click', closeMobileMenu);\r\n\r\n  // Close menu with Escape key\r\n  document.addEventListener('keydown', (e) => {\r\n    if (e.key === 'Escape' && mobileSlideMenu.classList.contains('active')) {\r\n      closeMobileMenu();\r\n    }\r\n  });\r\n\r\n  // Close menu when clicking nav links\r\n  mobileNavLinks.forEach(link => {\r\n    link.addEventListener('click', (e) => {\r\n      closeMobileMenu();\r\n      // Handle navigation\r\n      const href = e.target.getAttribute('href');\r\n      if (href.startsWith('#')) {\r\n        e.preventDefault();\r\n        const section = href.substring(1);\r\n        navigateToSection(section, true);\r\n      }\r\n    });\r\n  });\r\n\r\n  // Set up mobile theme toggle\r\n  const mobileThemeToggle = document.getElementById('mobileThemeToggle');\r\n  if (mobileThemeToggle) {\r\n    mobileThemeToggle.addEventListener('click', () => {\r\n      const themeToggle = document.getElementById('themeToggle');\r\n      themeToggle.click(); // Trigger the main theme toggle\r\n    });\r\n    \r\n    // Sync theme icon\r\n    const syncThemeIcons = () => {\r\n      const mainIcon = document.querySelector('#themeToggle .theme-icon');\r\n      const mobileIcon = document.querySelector('#mobileThemeToggle .theme-icon');\r\n      if (mainIcon && mobileIcon) {\r\n        mobileIcon.textContent = mainIcon.textContent;\r\n      }\r\n    };\r\n    \r\n    // Initial sync and observe changes\r\n    syncThemeIcons();\r\n    const observer = new MutationObserver(syncThemeIcons);\r\n    const mainIcon = document.querySelector('#themeToggle .theme-icon');\r\n    if (mainIcon) {\r\n      observer.observe(mainIcon, { childList: true, characterData: true, subtree: true });\r\n    }\r\n  }\r\n}\r\n\r\n// Authentication System\r\nfunction setupAuthentication() {\r\n  const isProduction = window.location.hostname !== 'localhost';\r\n  const currentDomain = window.location.hostname;\r\n  \r\n  console.log(`üîê Setting up authentication for ${isProduction ? 'PRODUCTION' : 'DEVELOPMENT'}: ${currentDomain}`);\r\n  \r\n  const auth = window.firebaseAuth;\r\n  const googleProvider = window.googleProvider;\r\n  \r\n  // Enhanced error checking for production\r\n  if (!auth || !googleProvider) {\r\n    console.error('‚ùå Firebase not properly initialized!');\r\n    if (isProduction) {\r\n      console.error('üö® PRODUCTION ERROR: Firebase auth not available');\r\n      showNotification('Authentication service unavailable. Please refresh the page.', 'error');\r\n    }\r\n    return;\r\n  }\r\n  \r\n  console.log('‚úÖ Firebase auth objects found:', { auth: !!auth, provider: !!googleProvider });\r\n  \r\n  // Get DOM elements with enhanced checking\r\n  const loginBtn = document.getElementById('loginBtn');\r\n  const signupBtn = document.getElementById('signupBtn');\r\n  const logoutBtn = document.getElementById('logoutBtn');\r\n  const authButtons = document.getElementById('authButtons');\r\n  const userMenu = document.getElementById('userMenu');\r\n  \r\n  // Modal elements\r\n  const loginModal = document.getElementById('loginModal');\r\n  const signupModal = document.getElementById('signupModal');\r\n  const modalOverlay = document.getElementById('modalOverlay');\r\n  const loginModalClose = document.getElementById('loginModalClose');\r\n  const signupModalClose = document.getElementById('signupModalClose');\r\n  \r\n  // Form elements\r\n  const loginForm = document.getElementById('loginForm');\r\n  const signupForm = document.getElementById('signupForm');\r\n  const googleLoginBtn = document.getElementById('googleLoginBtn');\r\n  const googleSignupBtn = document.getElementById('googleSignupBtn');\r\n  \r\n  // Check if critical elements exist\r\n  const missingElements = [];\r\n  if (!loginBtn) missingElements.push('loginBtn');\r\n  if (!signupBtn) missingElements.push('signupBtn');\r\n  if (!loginModal) missingElements.push('loginModal');\r\n  if (!signupModal) missingElements.push('signupModal');\r\n  if (!modalOverlay) missingElements.push('modalOverlay');\r\n  \r\n  if (missingElements.length > 0) {\r\n    console.error('‚ùå Missing critical authentication elements:', missingElements);\r\n    if (isProduction) {\r\n      console.error('üö® PRODUCTION ERROR: Missing DOM elements for authentication');\r\n    }\r\n    return;\r\n  }\r\n  \r\n  console.log('‚úÖ All authentication DOM elements found');\r\n  \r\n  // Auth state listener\r\n  auth.onAuthStateChanged((user) => {\r\n    if (user) {\r\n      // User is signed in\r\n      showUserMenu(user);\r\n      closeAllModals();\r\n      showNotification(`Welcome back, ${user.displayName || user.email}! üëã`, 'success');\r\n    } else {\r\n      // User is signed out\r\n      showAuthButtons();\r\n    }\r\n  });\r\n  \r\n  // Event listeners with enhanced error handling\r\n  loginBtn?.addEventListener('click', (e) => {\r\n    e.preventDefault();\r\n    console.log('üîë Login button clicked');\r\n    \r\n    if (isProduction) {\r\n      console.log('üåê PRODUCTION: Opening login modal on domain:', currentDomain);\r\n    }\r\n    \r\n    openModal(loginModal);\r\n  });\r\n  \r\n  signupBtn?.addEventListener('click', (e) => {\r\n    e.preventDefault();\r\n    console.log('üìù Signup button clicked');\r\n    \r\n    if (isProduction) {\r\n      console.log('üåê PRODUCTION: Opening signup modal on domain:', currentDomain);\r\n    }\r\n    \r\n    openModal(signupModal);\r\n  });\r\n  \r\n  logoutBtn?.addEventListener('click', (e) => {\r\n    e.preventDefault();\r\n    console.log('üëã Logout requested');\r\n    handleLogout();\r\n  });\r\n  \r\n  // Modal close handlers\r\n  loginModalClose?.addEventListener('click', () => closeModal(loginModal));\r\n  signupModalClose?.addEventListener('click', () => closeModal(signupModal));\r\n  modalOverlay?.addEventListener('click', closeAllModals);\r\n  \r\n  // Form submission handlers\r\n  loginForm?.addEventListener('submit', handleEmailLogin);\r\n  signupForm?.addEventListener('submit', handleEmailSignup);\r\n  \r\n  // Google auth handlers with enhanced debugging\r\n  googleLoginBtn?.addEventListener('click', (e) => {\r\n    e.preventDefault();\r\n    console.log('üîë Google login attempted');\r\n    \r\n    if (isProduction) {\r\n      console.log('üåê PRODUCTION: Google login on domain:', currentDomain);\r\n      console.log('üîß Firebase auth state:', !!auth);\r\n      console.log('üîß Google provider state:', !!googleProvider);\r\n    }\r\n    \r\n    handleGoogleAuth(e);\r\n  });\r\n  \r\n  googleSignupBtn?.addEventListener('click', (e) => {\r\n    e.preventDefault();\r\n    console.log('üìù Google signup attempted');\r\n    \r\n    if (isProduction) {\r\n      console.log('üåê PRODUCTION: Google signup on domain:', currentDomain);\r\n      console.log('üîß Firebase auth state:', !!auth);\r\n      console.log('üîß Google provider state:', !!googleProvider);\r\n    }\r\n    \r\n    handleGoogleAuth(e);\r\n  });\r\n  \r\n  // Auth switch handlers\r\n  document.getElementById('showSignupFromLogin')?.addEventListener('click', (e) => {\r\n    e.preventDefault();\r\n    closeModal(loginModal);\r\n    openModal(signupModal);\r\n  });\r\n  \r\n  document.getElementById('showLoginFromSignup')?.addEventListener('click', (e) => {\r\n    e.preventDefault();\r\n    closeModal(signupModal);\r\n    openModal(loginModal);\r\n  });\r\n  \r\n  // Forgot password handler\r\n  document.getElementById('forgotPasswordLink')?.addEventListener('click', handleForgotPassword);\r\n  \r\n  // Close modal on Escape key\r\n  document.addEventListener('keydown', (e) => {\r\n    if (e.key === 'Escape') {\r\n      closeAllModals();\r\n    }\r\n  });\r\n  \r\n  function showUserMenu(user) {\r\n    authButtons.style.display = 'none';\r\n    userMenu.style.display = 'flex';\r\n    \r\n    const userAvatar = document.getElementById('userAvatar');\r\n    const userName = document.getElementById('userName');\r\n    \r\n    if (userAvatar) {\r\n      userAvatar.src = user.photoURL || `https://ui-avatars.com/api/?name=${encodeURIComponent(user.displayName || user.email)}&background=667eea&color=fff&size=64`;\r\n    }\r\n    \r\n    if (userName) {\r\n      userName.textContent = user.displayName || user.email.split('@')[0];\r\n    }\r\n  }\r\n  \r\n  function showAuthButtons() {\r\n    authButtons.style.display = 'flex';\r\n    userMenu.style.display = 'none';\r\n  }\r\n  \r\n  function openModal(modal) {\r\n    modal.style.display = 'flex';\r\n    modalOverlay.style.display = 'block';\r\n    setTimeout(() => {\r\n      modal.classList.add('active');\r\n      modalOverlay.classList.add('active');\r\n    }, 10);\r\n    document.body.style.overflow = 'hidden';\r\n    \r\n    // Focus first input\r\n    const firstInput = modal.querySelector('input');\r\n    if (firstInput) {\r\n      setTimeout(() => firstInput.focus(), 300);\r\n    }\r\n  }\r\n  \r\n  function closeModal(modal) {\r\n    modal.classList.remove('active');\r\n    modalOverlay.classList.remove('active');\r\n    setTimeout(() => {\r\n      modal.style.display = 'none';\r\n      if (!document.querySelector('.modal.active')) {\r\n        modalOverlay.style.display = 'none';\r\n        document.body.style.overflow = '';\r\n      }\r\n    }, 300);\r\n    clearFormErrors();\r\n  }\r\n  \r\n  \r\n  async function handleEmailLogin(e) {\r\n    e.preventDefault();\r\n    \r\n    const email = document.getElementById('loginEmail').value;\r\n    const password = document.getElementById('loginPassword').value;\r\n    const submitBtn = e.target.querySelector('button[type=\"submit\"]');\r\n    \r\n    if (!validateLoginForm(email, password)) return;\r\n    \r\n    setButtonLoading(submitBtn, true);\r\n    \r\n    try {\r\n      await auth.signInWithEmailAndPassword(email, password);\r\n    } catch (error) {\r\n      console.error('Login error:', error);\r\n      handleAuthError(error, 'login');\r\n    } finally {\r\n      setButtonLoading(submitBtn, false);\r\n    }\r\n  }\r\n  \r\n  async function handleEmailSignup(e) {\r\n    e.preventDefault();\r\n    \r\n    const name = document.getElementById('signupName').value;\r\n    const email = document.getElementById('signupEmail').value;\r\n    const password = document.getElementById('signupPassword').value;\r\n    const confirmPassword = document.getElementById('confirmPassword').value;\r\n    const submitBtn = e.target.querySelector('button[type=\"submit\"]');\r\n    \r\n    if (!validateSignupForm(name, email, password, confirmPassword)) return;\r\n    \r\n    setButtonLoading(submitBtn, true);\r\n    \r\n    try {\r\n      const result = await auth.createUserWithEmailAndPassword(email, password);\r\n      \r\n      // Update user profile with name\r\n      if (name) {\r\n        await result.user.updateProfile({\r\n          displayName: name\r\n        });\r\n      }\r\n      \r\n      showNotification('Account created successfully! üéâ', 'success');\r\n    } catch (error) {\r\n      console.error('Signup error:', error);\r\n      handleAuthError(error, 'signup');\r\n    } finally {\r\n      setButtonLoading(submitBtn, false);\r\n    }\r\n  }\r\n  \r\n  async function handleGoogleAuth() {\r\n    try {\r\n      await auth.signInWithPopup(googleProvider);\r\n    } catch (error) {\r\n      console.error('Google auth error:', error);\r\n      if (error.code !== 'auth/popup-closed-by-user') {\r\n        showNotification('Google sign-in failed. Please try again.', 'error');\r\n      }\r\n    }\r\n  }\r\n  \r\n  async function handleLogout() {\r\n    try {\r\n      await auth.signOut();\r\n      showNotification('Successfully logged out! üëã', 'info');\r\n    } catch (error) {\r\n      console.error('Logout error:', error);\r\n      showNotification('Error logging out. Please try again.', 'error');\r\n    }\r\n  }\r\n  \r\n  async function handleForgotPassword(e) {\r\n    e.preventDefault();\r\n    \r\n    const email = document.getElementById('loginEmail').value;\r\n    \r\n    if (!email) {\r\n      showFieldError('loginEmailError', 'Please enter your email address first');\r\n      return;\r\n    }\r\n    \r\n    try {\r\n      await auth.sendPasswordResetEmail(email);\r\n      showNotification('Password reset email sent! Check your inbox. üìß', 'success');\r\n      closeModal(loginModal);\r\n    } catch (error) {\r\n      console.error('Password reset error:', error);\r\n      showNotification('Error sending password reset email. Please try again.', 'error');\r\n    }\r\n  }\r\n  \r\n  function validateLoginForm(email, password) {\r\n    clearFormErrors();\r\n    let isValid = true;\r\n    \r\n    if (!email) {\r\n      showFieldError('loginEmailError', 'Email is required');\r\n      isValid = false;\r\n    } else if (!isValidEmail(email)) {\r\n      showFieldError('loginEmailError', 'Please enter a valid email address');\r\n      isValid = false;\r\n    }\r\n    \r\n    if (!password) {\r\n      showFieldError('loginPasswordError', 'Password is required');\r\n      isValid = false;\r\n    }\r\n    \r\n    return isValid;\r\n  }\r\n  \r\n  function validateSignupForm(name, email, password, confirmPassword) {\r\n    clearFormErrors();\r\n    let isValid = true;\r\n    \r\n    if (!name) {\r\n      showFieldError('signupNameError', 'Name is required');\r\n      isValid = false;\r\n    }\r\n    \r\n    if (!email) {\r\n      showFieldError('signupEmailError', 'Email is required');\r\n      isValid = false;\r\n    } else if (!isValidEmail(email)) {\r\n      showFieldError('signupEmailError', 'Please enter a valid email address');\r\n      isValid = false;\r\n    }\r\n    \r\n    if (!password) {\r\n      showFieldError('signupPasswordError', 'Password is required');\r\n      isValid = false;\r\n    } else if (password.length < 6) {\r\n      showFieldError('signupPasswordError', 'Password must be at least 6 characters long');\r\n      isValid = false;\r\n    }\r\n    \r\n    if (password !== confirmPassword) {\r\n      showFieldError('confirmPasswordError', 'Passwords do not match');\r\n      isValid = false;\r\n    }\r\n    \r\n    return isValid;\r\n  }\r\n  \r\n  function handleAuthError(error, context) {\r\n    let message = 'An error occurred. Please try again.';\r\n    \r\n    switch (error.code) {\r\n      case 'auth/user-not-found':\r\n        message = 'No account found with this email address.';\r\n        break;\r\n      case 'auth/wrong-password':\r\n        message = 'Incorrect password.';\r\n        break;\r\n      case 'auth/email-already-in-use':\r\n        message = 'An account with this email already exists.';\r\n        break;\r\n      case 'auth/weak-password':\r\n        message = 'Password is too weak. Please choose a stronger password.';\r\n        break;\r\n      case 'auth/invalid-email':\r\n        message = 'Please enter a valid email address.';\r\n        break;\r\n      case 'auth/too-many-requests':\r\n        message = 'Too many failed attempts. Please try again later.';\r\n        break;\r\n      default:\r\n        message = error.message || message;\r\n    }\r\n    \r\n    showNotification(message, 'error');\r\n  }\r\n  \r\n  function setButtonLoading(button, loading) {\r\n    if (loading) {\r\n      button.disabled = true;\r\n      button.querySelector('.btn-text').style.display = 'none';\r\n      button.querySelector('.btn-loading').style.display = 'inline-flex';\r\n    } else {\r\n      button.disabled = false;\r\n      button.querySelector('.btn-text').style.display = 'inline-flex';\r\n      button.querySelector('.btn-loading').style.display = 'none';\r\n    }\r\n  }\r\n}\r\n\r\n// Form Handlers (Authentication integrated)\r\nfunction setupFormHandlers() {\r\n  // Authentication handled by setupAuthentication()\r\n  console.log('Form handlers initialized with authentication');\r\n}\r\n\r\n// Authentication removed - no login functionality\r\n\r\n// Authentication removed - no login functionality\r\n\r\n// No auth initialization needed\r\n\r\n// Utility Functions (kept for backwards compatibility)\r\nfunction simulateApiCall() {\r\n  return new Promise(resolve => setTimeout(resolve, 1500));\r\n}\r\n\r\nfunction isValidEmail(email) {\r\n  const emailRegex = /^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/;\r\n  return emailRegex.test(email);\r\n}\r\n\r\n// Authentication functions removed\r\n\r\nfunction showNotification(message, type = 'info') {\r\n  // Simple console notification for Google Auth feedback\r\n  const prefix = type === 'success' ? '‚úÖ' : type === 'error' ? '‚ùå' : '‚ÑπÔ∏è';\r\n  console.log(`${prefix} ${message}`);\r\n  \r\n  // Also show a simple alert for important messages\r\n  if (type === 'error') {\r\n    alert(`Error: ${message}`);\r\n  } else if (type === 'success') {\r\n    // Optional: You can add a toast notification system here later\r\n    console.log(`Success: ${message}`);\r\n  }\r\n}\r\n\r\n// Scroll Effects\r\nfunction setupScrollEffects() {\r\n  const header = document.querySelector('.app-header');\r\n  let lastScrollY = window.scrollY;\r\n\r\n  window.addEventListener('scroll', () => {\r\n    const currentScrollY = window.scrollY;\r\n    const isDark = document.documentElement.getAttribute('data-theme') === 'dark';\r\n    \r\n    if (currentScrollY > 50) {\r\n      header.style.background = isDark ? 'rgba(26, 32, 44, 0.98)' : 'rgba(255, 255, 255, 0.98)';\r\n      header.style.backdropFilter = 'blur(20px)';\r\n    } else {\r\n      header.style.background = isDark ? 'rgba(26, 32, 44, 0.95)' : 'rgba(255, 255, 255, 0.95)';\r\n      header.style.backdropFilter = 'blur(10px)';\r\n    }\r\n\r\n    lastScrollY = currentScrollY;\r\n  });\r\n}\r\n\r\n// Dark Reader Support - Prevent extension from applying dark mode when app is in dark mode\r\nfunction setDarkReaderLock(enabled) {\r\n  let meta = document.querySelector('meta[name=\"darkreader-lock\"]');\r\n  if (enabled) {\r\n    if (!meta) {\r\n      meta = document.createElement('meta');\r\n      meta.name = 'darkreader-lock';\r\n      document.head.appendChild(meta);\r\n      console.log('Dark Reader lock enabled - extension dark mode disabled');\r\n    }\r\n  } else {\r\n    if (meta) {\r\n      meta.remove();\r\n      console.log('Dark Reader lock removed - extension can apply dark mode');\r\n    }\r\n  }\r\n}\r\n\r\n// IDM Protection - Prevent Internet Download Manager from showing download toolbar\r\nfunction preventIDMDownload() {\r\n  // Add meta tag to disable IDM integration\r\n  let idmMeta = document.querySelector('meta[name=\"no-idm\"]');\r\n  if (!idmMeta) {\r\n    idmMeta = document.createElement('meta');\r\n    idmMeta.name = 'no-idm';\r\n    idmMeta.content = '1';\r\n    document.head.appendChild(idmMeta);\r\n  }\r\n  \r\n  // Disable IDM on video elements\r\n  const videos = document.querySelectorAll('video, iframe[src*=\"vimeo\"], iframe[src*=\"youtube\"]');\r\n  videos.forEach(video => {\r\n    // Add IDM disable attributes\r\n    video.setAttribute('controlsList', 'nodownload');\r\n    video.setAttribute('disablePictureInPicture', 'true');\r\n    video.setAttribute('data-no-idm', '1');\r\n    \r\n    // Prevent right-click context menu that might show IDM options\r\n    video.addEventListener('contextmenu', (e) => {\r\n      e.preventDefault();\r\n      e.stopPropagation();\r\n      return false;\r\n    });\r\n  });\r\n  \r\n  // Override IDM detection methods if they exist\r\n  if (window.IDMObject || window.IDM) {\r\n    try {\r\n      if (window.IDMObject) window.IDMObject = null;\r\n      if (window.IDM) window.IDM = null;\r\n      console.log('IDM object disabled');\r\n    } catch (e) {\r\n      console.log('IDM protection applied');\r\n    }\r\n  }\r\n  \r\n  console.log('IDM download prevention applied');\r\n}\r\n\r\n// Form Encoding Fix - Ensure all forms have proper enctype attribute\r\nfunction fixFormEncoding() {\r\n  const forms = document.querySelectorAll('form');\r\n  let fixedCount = 0;\r\n  \r\n  forms.forEach(form => {\r\n    // If form doesn't have enctype attribute, set it explicitly\r\n    if (!form.hasAttribute('enctype')) {\r\n      // Check if form has file inputs to determine appropriate enctype\r\n      const hasFileInput = form.querySelector('input[type=\"file\"]');\r\n      if (hasFileInput) {\r\n        form.setAttribute('enctype', 'multipart/form-data');\r\n      } else {\r\n        form.setAttribute('enctype', 'application/x-www-form-urlencoded');\r\n      }\r\n      fixedCount++;\r\n    }\r\n  });\r\n  \r\n  // Also fix any forms that might be added dynamically\r\n  const observer = new MutationObserver((mutations) => {\r\n    mutations.forEach((mutation) => {\r\n      if (mutation.type === 'childList') {\r\n        mutation.addedNodes.forEach((node) => {\r\n          if (node.nodeType === Node.ELEMENT_NODE) {\r\n            // Check if the added node is a form\r\n            if (node.tagName === 'FORM' && !node.hasAttribute('enctype')) {\r\n              const hasFileInput = node.querySelector('input[type=\"file\"]');\r\n              node.setAttribute('enctype', hasFileInput ? 'multipart/form-data' : 'application/x-www-form-urlencoded');\r\n            }\r\n            // Check for forms within the added node\r\n            const nestedForms = node.querySelectorAll('form:not([enctype])');\r\n            nestedForms.forEach(form => {\r\n              const hasFileInput = form.querySelector('input[type=\"file\"]');\r\n              form.setAttribute('enctype', hasFileInput ? 'multipart/form-data' : 'application/x-www-form-urlencoded');\r\n            });\r\n          }\r\n        });\r\n      }\r\n    });\r\n  });\r\n  \r\n  // Start observing for dynamic content changes\r\n  observer.observe(document.body, {\r\n    childList: true,\r\n    subtree: true\r\n  });\r\n  \r\n  console.log(`Form encoding attributes fixed for ${fixedCount} forms`);\r\n}\r\n\r\n// Theme Toggle\r\nfunction setupThemeToggle() {\r\n  const themeToggle = document.getElementById('themeToggle');\r\n  const themeIcon = themeToggle.querySelector('.theme-icon');\r\n  \r\n  // Check for saved theme or default to dark mode\r\n  const savedTheme = localStorage.getItem('theme') || 'dark';\r\n  setTheme(savedTheme);\r\n  \r\n  themeToggle.addEventListener('click', () => {\r\n    const currentTheme = document.documentElement.getAttribute('data-theme');\r\n    const newTheme = currentTheme === 'dark' ? 'light' : 'dark';\r\n    setTheme(newTheme);\r\n    \r\n    // Add a little animation to the button\r\n    themeToggle.style.transform = 'scale(0.9)';\r\n    setTimeout(() => {\r\n      themeToggle.style.transform = 'scale(1)';\r\n    }, 150);\r\n  });\r\n  \r\n  function setTheme(theme) {\r\n    // Remove any existing theme attributes\r\n    document.documentElement.removeAttribute('data-theme');\r\n    document.body.classList.remove('dark-theme', 'light-theme');\r\n    \r\n    // Force a small delay to ensure the removal is processed\r\n    setTimeout(() => {\r\n      // Set new theme\r\n      document.documentElement.setAttribute('data-theme', theme);\r\n      document.body.classList.add(theme + '-theme');\r\n      \r\n      // Update localStorage\r\n      try {\r\n        localStorage.setItem('theme', theme);\r\n      } catch (e) {\r\n        console.warn('Could not save theme to localStorage:', e);\r\n      }\r\n      \r\n      // Update Dark Reader lock - prevent extension from applying dark mode when app is in dark mode\r\n      setDarkReaderLock(theme === 'dark');\r\n      \r\n      // Update theme-color meta tag for iOS status bar\r\n      const themeColorMeta = document.getElementById('theme-color-meta');\r\n      if (themeColorMeta) {\r\n        themeColorMeta.setAttribute('content', theme === 'dark' ? '#1a202c' : '#667eea');\r\n      }\r\n      \r\n      // Update Apple status bar style\r\n      let statusBarMeta = document.querySelector('meta[name=\"apple-mobile-web-app-status-bar-style\"]');\r\n      if (statusBarMeta) {\r\n        statusBarMeta.setAttribute('content', theme === 'dark' ? 'black-translucent' : 'default');\r\n      }\r\n      \r\n      // Update icon\r\n      if (themeIcon) {\r\n        themeIcon.textContent = theme === 'dark' ? '‚òÄÔ∏è' : 'üåô';\r\n      }\r\n      \r\n      // Update mobile theme toggle if it exists\r\n      const mobileThemeIcon = document.querySelector('#mobileThemeToggle .theme-icon');\r\n      if (mobileThemeIcon) {\r\n        mobileThemeIcon.textContent = theme === 'dark' ? '‚òÄÔ∏è' : 'üåô';\r\n      }\r\n      \r\n      // Update header background immediately if needed\r\n      const header = document.querySelector('.app-header');\r\n      if (header) {\r\n        const currentScrollY = window.scrollY;\r\n        const isDark = theme === 'dark';\r\n        \r\n        if (currentScrollY > 50) {\r\n          header.style.background = isDark ? 'rgba(26, 32, 44, 0.98)' : 'rgba(255, 255, 255, 0.98)';\r\n        } else {\r\n          header.style.background = isDark ? 'rgba(26, 32, 44, 0.95)' : 'rgba(255, 255, 255, 0.95)';\r\n        }\r\n      }\r\n      \r\n      // Force repaint on iOS\r\n      if (/iPad|iPhone|iPod/.test(navigator.userAgent)) {\r\n        document.body.style.display = 'none';\r\n        document.body.offsetHeight; // Trigger reflow\r\n        document.body.style.display = '';\r\n      }\r\n    }, 10);\r\n  }\r\n}\r\n\r\n// Helper function to detect mobile devices\r\nfunction isMobileDevice() {\r\n  return /Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent) || \r\n         (navigator.maxTouchPoints && navigator.maxTouchPoints > 2) ||\r\n         window.innerWidth <= 768;\r\n}\r\n\r\n// iOS-specific fixes for theme and performance\r\nfunction setupiOSFixes() {\r\n  const isIOS = /iPad|iPhone|iPod/.test(navigator.userAgent);\r\n  \r\n  if (isIOS) {\r\n    // Fix viewport height on iOS\r\n    const setViewportHeight = () => {\r\n      let vh = window.innerHeight * 0.01;\r\n      document.documentElement.style.setProperty('--vh', `${vh}px`);\r\n    };\r\n    \r\n    setViewportHeight();\r\n    window.addEventListener('resize', setViewportHeight);\r\n    window.addEventListener('orientationchange', () => {\r\n      setTimeout(setViewportHeight, 100);\r\n    });\r\n    \r\n    // Improve theme persistence on iOS\r\n    const checkTheme = () => {\r\n      const savedTheme = localStorage.getItem('theme') || 'dark';\r\n      const currentTheme = document.documentElement.getAttribute('data-theme');\r\n      \r\n      if (currentTheme !== savedTheme) {\r\n        document.documentElement.setAttribute('data-theme', savedTheme);\r\n        document.body.className = savedTheme + '-theme';\r\n      }\r\n    };\r\n    \r\n    // Check theme on page focus (important for iOS when switching between apps)\r\n    window.addEventListener('focus', checkTheme);\r\n    window.addEventListener('pageshow', checkTheme);\r\n    \r\n    // Prevent iOS zoom on input focus\r\n    const inputs = document.querySelectorAll('input, textarea, select');\r\n    inputs.forEach(input => {\r\n      input.addEventListener('focus', () => {\r\n        const viewport = document.querySelector('meta[name=\"viewport\"]');\r\n        if (viewport) {\r\n          viewport.setAttribute('content', 'width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no');\r\n        }\r\n      });\r\n      \r\n      input.addEventListener('blur', () => {\r\n        const viewport = document.querySelector('meta[name=\"viewport\"]');\r\n        if (viewport) {\r\n          viewport.setAttribute('content', 'width=device-width, initial-scale=1.0, viewport-fit=cover, user-scalable=no');\r\n        }\r\n      });\r\n    });\r\n    \r\n    // Add iOS-specific class to body\r\n    document.body.classList.add('ios-device');\r\n  }\r\n}\r\n\r\n// Dynamic Background\r\nfunction setupDynamicBackground() {\r\n  let mouseX = 0;\r\n  let mouseY = 0;\r\n  let targetX = 0;\r\n  let targetY = 0;\r\n  \r\n  // Track mouse movement\r\n  document.addEventListener('mousemove', (e) => {\r\n    targetX = (e.clientX / window.innerWidth) * 100;\r\n    targetY = (e.clientY / window.innerHeight) * 100;\r\n  });\r\n  \r\n  // Smooth animation using requestAnimationFrame\r\n  function updateBackground() {\r\n    // Smooth interpolation for fluid movement\r\n    mouseX += (targetX - mouseX) * 0.1;\r\n    mouseY += (targetY - mouseY) * 0.1;\r\n    \r\n    // Update CSS custom properties\r\n    document.documentElement.style.setProperty('--mouse-x', `${mouseX}%`);\r\n    document.documentElement.style.setProperty('--mouse-y', `${mouseY}%`);\r\n    \r\n    requestAnimationFrame(updateBackground);\r\n  }\r\n  \r\n  // Start the animation loop\r\n  updateBackground();\r\n  \r\n  // Add subtle parallax effect to hero content\r\n  const heroSection = document.querySelector('.hero-section');\r\n  if (heroSection) {\r\n    document.addEventListener('mousemove', (e) => {\r\n      const moveX = (e.clientX - window.innerWidth / 2) * 0.01;\r\n      const moveY = (e.clientY - window.innerHeight / 2) * 0.01;\r\n      \r\n      heroSection.style.transform = `translate(${moveX}px, ${moveY}px)`;\r\n    });\r\n  }\r\n}\r\n\r\n// Button Shimmer Effect\r\nfunction setupButtonShimmer() {\r\n  const buttons = document.querySelectorAll('.btn');\r\n  \r\n  buttons.forEach(button => {\r\n    // Add mousedown event listener for left mouse button\r\n    button.addEventListener('mousedown', (e) => {\r\n      // Check if it's the left mouse button (button 0)\r\n      if (e.button === 0) {\r\n        // Remove existing shimmer class if present\r\n        button.classList.remove('shimmer');\r\n        \r\n        // Force reflow to ensure class removal takes effect\r\n        button.offsetHeight;\r\n        \r\n        // Add shimmer class to trigger animation\r\n        button.classList.add('shimmer');\r\n        \r\n        // Remove the class after animation completes\r\n        setTimeout(() => {\r\n          button.classList.remove('shimmer');\r\n        }, 800); // Match the animation duration\r\n      }\r\n    });\r\n    \r\n    // Prevent context menu on right click to avoid interference\r\n    button.addEventListener('contextmenu', (e) => {\r\n      e.preventDefault();\r\n    });\r\n  });\r\n}\r\n\r\n// Games Navigation\r\nfunction setupGamesNavigation() {\r\n  const getStartedBtn = document.getElementById('getStartedBtn');\r\n  const learnMoreBtn = document.getElementById('learnMoreBtn');\r\n  const emojiBtn = document.getElementById('emojiBtn');\r\n  const backToHero = document.getElementById('backToHero');\r\n  const backToGames = document.getElementById('backToGames');\r\n  const ticTacToeCard = document.getElementById('ticTacToeCard');\r\n  const memoryGameCard = document.getElementById('memoryGameCard');\r\n  const snakeGameCard = document.getElementById('snakeGameCard');\r\n  const backToGamesFromMemory = document.getElementById('backToGamesFromMemory');\r\n  const backToGamesFromSnake = document.getElementById('backToGamesFromSnake');\r\n\r\n  // Show games menu when \"Get Started\" is clicked (only from home)\r\n  getStartedBtn.addEventListener('click', () => {\r\n    const currentHash = window.location.hash || '#home';\r\n    if (currentHash === '#home') {\r\n      navigateToSection('games', true);\r\n      showNotification('Welcome to the Games Menu! üéÆ', 'success');\r\n    } else if (getStartedBtn.textContent === 'Learn More') {\r\n      // Navigate to features section when \"Learn More\" is clicked\r\n      navigateToSection('features', true);\r\n      showNotification('Check out our amazing features! ‚ú®', 'info');\r\n    } else if (getStartedBtn.textContent === 'Go Back to Home') {\r\n      // Navigate back to home when \"Go Back to Home\" is clicked\r\n      navigateToSection('home', true);\r\n      showNotification('Welcome back home! üè†', 'info');\r\n    } else if (getStartedBtn.textContent === 'üòä') {\r\n      // Release smiley emojis when smile button is clicked\r\n      releaseEmojis();\r\n      showNotification('Spreading happiness! üòÑ‚ú®', 'success');\r\n    } else if (getStartedBtn.textContent === 'Contact Us') {\r\n      // Show contact notification when \"Contact Us\" is clicked\r\n      showContactCard();\r\n    } else {\r\n      // For other sections, just show a notification\r\n      showNotification(`${getStartedBtn.textContent} clicked!`, 'info');\r\n    }\r\n  });\r\n// Show modern contact card with social links\r\nfunction showContactCard() {\r\n  // Prevent multiple cards - check if card already exists\r\n  const existingCard = document.getElementById('contactCard');\r\n  if (existingCard) {\r\n    // If card exists, don't create another one\r\n    return;\r\n  }\r\n\r\n  // Official SVGs from brand sources - Updated 2025 modern icons\r\n  const icons = {\r\n    youtube: `<svg width=\"28\" height=\"28\" viewBox=\"0 0 48 48\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\"><rect width=\"48\" height=\"48\" rx=\"8\" fill=\"#FF0000\"/><path d=\"M19 14v20l13-10-13-10z\" fill=\"white\"/></svg>`,\r\n    discord: `<svg width=\"28\" height=\"28\" viewBox=\"0 0 48 48\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\"><rect width=\"48\" height=\"48\" rx=\"8\" fill=\"#5865F2\"/><path d=\"M38.5 15.5c-1.2-.5-2.4-1-3.8-1.2-.2.3-.4.7-.5 1-1.4-.2-2.8-.2-4.2 0-.2-.3-.3-.7-.5-1-1.4.2-2.6.7-3.8 1.2-2.9 4.3-3.7 8.5-3.3 12.6 1.6 1.2 3.1 1.9 4.6 2.3.4-.5.7-1 1-1.6-.5-.2-1-.4-1.5-.7.1-.1.3-.2.4-.3 2.9 1.3 6.1 1.3 9 0 .1.1.3.2.4.3-.5.3-1 .5-1.5.7.3.6.6 1.1 1 1.6 1.5-.4 3-1.1 4.6-2.3.5-4.8-.8-8.9-3.4-12.6zM30.2 26c-.8 0-1.5-.7-1.5-1.6s.7-1.6 1.5-1.6 1.5.7 1.5 1.6-.7 1.6-1.5 1.6zm5.6 0c-.8 0-1.5-.7-1.5-1.6s.7-1.6 1.5-1.6 1.5.7 1.5 1.6-.7 1.6-1.5 1.6z\" fill=\"white\"/></svg>`,\r\n    linkedin: `<svg width=\"28\" height=\"28\" viewBox=\"0 0 48 48\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\"><rect width=\"48\" height=\"48\" rx=\"8\" fill=\"#0077B5\"/><path d=\"M13 16h5v16h-5V16zm2.5-8c1.4 0 2.5 1.1 2.5 2.5S16.9 13 15.5 13 13 11.9 13 10.5 14.1 8 15.5 8zM35 32V24c0-3.3-2.7-6-6-6-1.7 0-3.2.9-4 2.3V18h-5v14h5v-7c0-1.1.9-2 2-2s2 .9 2 2v7h6z\" fill=\"white\"/></svg>`,\r\n    instagram: `<svg width=\"28\" height=\"28\" viewBox=\"0 0 48 48\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\"><rect width=\"48\" height=\"48\" rx=\"8\" fill=\"url(#ig-gradient)\"/><defs><linearGradient id=\"ig-gradient\" x1=\"0%\" y1=\"0%\" x2=\"100%\" y2=\"100%\"><stop offset=\"0%\" stop-color=\"#ff7a00\"/><stop offset=\"25%\" stop-color=\"#ff0169\"/><stop offset=\"50%\" stop-color=\"#d300c5\"/><stop offset=\"75%\" stop-color=\"#7638fa\"/><stop offset=\"100%\" stop-color=\"#4f46e5\"/></linearGradient></defs><rect x=\"12\" y=\"12\" width=\"24\" height=\"24\" rx=\"6\" fill=\"none\" stroke=\"white\" stroke-width=\"2.5\"/><circle cx=\"24\" cy=\"24\" r=\"5.5\" fill=\"none\" stroke=\"white\" stroke-width=\"2.5\"/><circle cx=\"31\" cy=\"17\" r=\"1.5\" fill=\"white\"/></svg>`,\r\n    reddit: `<svg width=\"28\" height=\"28\" viewBox=\"0 0 48 48\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\"><rect width=\"48\" height=\"48\" rx=\"8\" fill=\"#FF4500\"/><circle cx=\"24\" cy=\"26\" r=\"12\" fill=\"white\"/><circle cx=\"19\" cy=\"23\" r=\"2\" fill=\"#FF4500\"/><circle cx=\"29\" cy=\"23\" r=\"2\" fill=\"#FF4500\"/><ellipse cx=\"24\" cy=\"30\" rx=\"4\" ry=\"2\" fill=\"#FF4500\"/><circle cx=\"24\" cy=\"14\" r=\"3\" fill=\"white\"/><rect x=\"22\" y=\"8\" width=\"4\" height=\"8\" fill=\"white\"/></svg>`\r\n  };\r\n\r\n  // Create card container with 3D perspective\r\n  const card = document.createElement('div');\r\n  card.id = 'contactCard';\r\n  card.style.cssText = `\r\n    position: fixed;\r\n    top: 120px;\r\n    right: 30px;\r\n    background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);\r\n    color: #fff;\r\n    padding: 2rem 2.5rem;\r\n    border-radius: 1.2rem;\r\n    box-shadow: 0 8px 32px rgba(0,0,0,0.18);\r\n    z-index: 4000;\r\n    min-width: 320px;\r\n    max-width: 90vw;\r\n    font-family: inherit;\r\n    animation: slideInRight 0.4s cubic-bezier(.68,-0.55,.27,1.55);\r\n    text-shadow: 0 2px 8px rgba(0,0,0,0.25);\r\n    transform-style: preserve-3d;\r\n    transition: transform 0.1s ease-out, box-shadow 0.1s ease-out;\r\n    cursor: pointer;\r\n  `;\r\n\r\n  card.innerHTML = `\r\n    <div style=\"display:flex;align-items:center;gap:1rem;margin-bottom:1.2rem;\">\r\n      ${icons.youtube}\r\n      <h3 style=\"margin:0;font-size:1.5rem;font-weight:700;letter-spacing:0.5px;color:#fff;text-shadow:0 2px 8px rgba(0,0,0,0.25);\">Connect with Sahil</h3>\r\n    </div>\r\n    <div style=\"display:grid;gap:1.1rem;\">\r\n      <a href='https://www.youtube.com/godsahil' target='_blank' rel='noopener' class='social-link' data-platform='youtube' style='display:flex;align-items:center;gap:0.7rem;text-decoration:none;background:rgba(255,255,255,0.10);padding:0.7rem 1rem;border-radius:0.7rem;transition:all 0.3s cubic-bezier(0.4, 0, 0.2, 1);color:#fff;font-weight:500;position:relative;overflow:hidden;'>\r\n        ${icons.youtube} <span style='font-weight:500;'>YouTube</span>\r\n        <span style='margin-left:auto;font-size:1.1rem;'>@godsahil</span>\r\n      </a>\r\n      <a href='https://discordapp.com/users/538328153614057473' target='_blank' rel='noopener' class='social-link' data-platform='discord' style='display:flex;align-items:center;gap:0.7rem;text-decoration:none;background:rgba(255,255,255,0.10);padding:0.7rem 1rem;border-radius:0.7rem;transition:all 0.3s cubic-bezier(0.4, 0, 0.2, 1);color:#fff;font-weight:500;position:relative;overflow:hidden;'>\r\n        ${icons.discord} <span style='font-weight:500;'>Discord</span>\r\n        <span style='margin-left:auto;font-size:1.1rem;'>@GodSahil</span>\r\n      </a>\r\n      <a href='https://www.linkedin.com/in/kingsahil/' target='_blank' rel='noopener' class='social-link' data-platform='linkedin' style='display:flex;align-items:center;gap:0.7rem;text-decoration:none;background:rgba(255,255,255,0.10);padding:0.7rem 1rem;border-radius:0.7rem;transition:all 0.3s cubic-bezier(0.4, 0, 0.2, 1);color:#fff;font-weight:500;position:relative;overflow:hidden;'>\r\n        ${icons.linkedin} <span style='font-weight:500;'>LinkedIn</span>\r\n        <span style='margin-left:auto;font-size:1.1rem;'>@KingSahil</span>\r\n      </a>\r\n      <a href='https://www.instagram.com/supreme__sahil/' target='_blank' rel='noopener' class='social-link' data-platform='instagram' style='display:flex;align-items:center;gap:0.7rem;text-decoration:none;background:rgba(255,255,255,0.10);padding:0.7rem 1rem;border-radius:0.7rem;transition:all 0.3s cubic-bezier(0.4, 0, 0.2, 1);color:#fff;font-weight:500;position:relative;overflow:hidden;'>\r\n        ${icons.instagram} <span style='font-weight:500;'>Instagram</span>\r\n        <span style='margin-left:auto;font-size:1.1rem;'>@supreme__sahil</span>\r\n      </a>\r\n      <a href='https://www.reddit.com/user/ProSahil/' target='_blank' rel='noopener' class='social-link' data-platform='reddit' style='display:flex;align-items:center;gap:0.7rem;text-decoration:none;background:rgba(255,255,255,0.10);padding:0.7rem 1rem;border-radius:0.7rem;transition:all 0.3s cubic-bezier(0.4, 0, 0.2, 1);color:#fff;font-weight:500;position:relative;overflow:hidden;'>\r\n        ${icons.reddit} <span style='font-weight:500;'>Reddit</span>\r\n        <span style='margin-left:auto;font-size:1.1rem;'>@ProSahil</span>\r\n      </a>\r\n    </div>\r\n    <button id='closeContactCard' style='margin-top:1.7rem;background:#fff;color:#764ba2;font-weight:600;padding:0.6rem 1.2rem;border:none;border-radius:0.6rem;cursor:pointer;box-shadow:0 2px 8px rgba(0,0,0,0.08);transition:background 0.2s;'>Close</button>\r\n  `;\r\n\r\n  document.body.appendChild(card);\r\n\r\n  // Add 3D card effect with mouse movement\r\n  function add3DCardEffect() {\r\n    const cardRect = card.getBoundingClientRect();\r\n    let isHovering = false;\r\n\r\n    // Enhanced event handling for the entire card\r\n    card.addEventListener('mouseenter', (e) => {\r\n      isHovering = true;\r\n      card.style.transition = 'transform 0.1s ease-out, box-shadow 0.1s ease-out';\r\n    });\r\n\r\n    card.addEventListener('mouseleave', (e) => {\r\n      // Check if we're actually leaving the card (not just entering a child element)\r\n      const rect = card.getBoundingClientRect();\r\n      const x = e.clientX;\r\n      const y = e.clientY;\r\n      \r\n      if (x < rect.left || x > rect.right || y < rect.top || y > rect.bottom) {\r\n        isHovering = false;\r\n        card.style.transition = 'transform 0.4s ease-out, box-shadow 0.4s ease-out';\r\n        card.style.transform = 'perspective(1000px) rotateX(0deg) rotateY(0deg) translateZ(0px)';\r\n        card.style.boxShadow = '0 8px 32px rgba(0,0,0,0.18)';\r\n      }\r\n    });\r\n\r\n    card.addEventListener('mousemove', (e) => {\r\n      if (!isHovering) return;\r\n\r\n      const rect = card.getBoundingClientRect();\r\n      const centerX = rect.left + rect.width / 2;\r\n      const centerY = rect.top + rect.height / 2;\r\n      \r\n      // Calculate mouse position relative to card center\r\n      const mouseX = e.clientX - centerX;\r\n      const mouseY = e.clientY - centerY;\r\n      \r\n      // Check if hovering over a social link button\r\n      const hoveredElement = document.elementFromPoint(e.clientX, e.clientY);\r\n      const isOverSocialLink = hoveredElement && (\r\n        hoveredElement.classList.contains('social-link') || \r\n        hoveredElement.closest('.social-link') ||\r\n        hoveredElement.id === 'closeContactCard'\r\n      );\r\n      \r\n      // Reduce 3D effect intensity when over interactive elements but keep it active\r\n      const sensitivity = isOverSocialLink ? 0.6 : 1.0;\r\n      \r\n      // Calculate rotation angles\r\n      const rotateX = (mouseY / rect.height) * -20 * sensitivity;\r\n      const rotateY = (mouseX / rect.width) * 20 * sensitivity;\r\n      \r\n      // Calculate elevation based on distance from center\r\n      const distance = Math.sqrt(mouseX * mouseX + mouseY * mouseY);\r\n      const maxDistance = Math.sqrt((rect.width/2) * (rect.width/2) + (rect.height/2) * (rect.height/2));\r\n      const elevation = Math.max(0, (1 - distance / maxDistance) * 12 * sensitivity);\r\n      \r\n      // Apply 3D transform\r\n      card.style.transform = `perspective(1000px) rotateX(${rotateX}deg) rotateY(${rotateY}deg) translateZ(${elevation}px)`;\r\n      \r\n      // Enhanced shadow based on elevation and tilt\r\n      const shadowBlur = 8 + elevation * 2;\r\n      const shadowOpacity = 0.18 + elevation * 0.02;\r\n      const shadowOffsetX = rotateY * 0.5;\r\n      const shadowOffsetY = 8 + Math.abs(rotateX) * 0.5;\r\n      \r\n      card.style.boxShadow = `${shadowOffsetX}px ${shadowOffsetY}px ${shadowBlur}px rgba(0,0,0,${shadowOpacity})`;\r\n    });\r\n  }\r\n\r\n  // Apply 3D effect after a small delay to ensure card is rendered\r\n  setTimeout(add3DCardEffect, 100);\r\n\r\n  // Add dynamic glow effects to social media buttons\r\n  function addDynamicButtonEffects() {\r\n    const socialLinks = card.querySelectorAll('.social-link');\r\n    \r\n    // Platform-specific glow colors\r\n    const glowColors = {\r\n      youtube: '#FF0000',\r\n      discord: '#5865F2', \r\n      linkedin: '#0077B5',\r\n      instagram: '#E4405F',\r\n      reddit: '#FF4500'\r\n    };\r\n\r\n    socialLinks.forEach(link => {\r\n      const platform = link.getAttribute('data-platform');\r\n      const glowColor = glowColors[platform];\r\n      \r\n      // Improved button styling for better interaction\r\n      link.style.position = 'relative';\r\n      link.style.zIndex = '10';\r\n      link.style.pointerEvents = 'auto';\r\n      \r\n      // Enhanced hover effects with better event propagation\r\n      link.addEventListener('mouseenter', (e) => {\r\n        // Don't stop propagation - let parent handle 3D effects\r\n        link.style.background = `rgba(255,255,255,0.20)`;\r\n        link.style.boxShadow = `0 0 20px ${glowColor}40, 0 0 40px ${glowColor}20, inset 0 0 20px rgba(255,255,255,0.1)`;\r\n        link.style.transform = 'translateY(-2px) scale(1.02)';\r\n        link.style.borderLeft = `3px solid ${glowColor}`;\r\n        \r\n        // Add subtle icon animation\r\n        const icon = link.querySelector('svg');\r\n        if (icon) {\r\n          icon.style.transform = 'scale(1.1) rotate(5deg)';\r\n          icon.style.filter = `drop-shadow(0 0 8px ${glowColor}60)`;\r\n        }\r\n      });\r\n      \r\n      link.addEventListener('mouseleave', (e) => {\r\n        // Don't stop propagation - let parent handle 3D effects\r\n        link.style.background = 'rgba(255,255,255,0.10)';\r\n        link.style.boxShadow = 'none';\r\n        link.style.transform = 'translateY(0) scale(1)';\r\n        link.style.borderLeft = 'none';\r\n        \r\n        // Reset icon animation\r\n        const icon = link.querySelector('svg');\r\n        if (icon) {\r\n          icon.style.transform = 'scale(1) rotate(0deg)';\r\n          icon.style.filter = 'none';\r\n        }\r\n      });\r\n      \r\n      // Add click effect\r\n      link.addEventListener('mousedown', (e) => {\r\n        // Don't stop propagation\r\n        link.style.transform = 'translateY(1px) scale(0.98)';\r\n        link.style.boxShadow = `0 0 15px ${glowColor}60, inset 0 0 15px rgba(255,255,255,0.2)`;\r\n      });\r\n      \r\n      link.addEventListener('mouseup', (e) => {\r\n        // Don't stop propagation\r\n        link.style.transform = 'translateY(-2px) scale(1.02)';\r\n      });\r\n      \r\n      // Ensure links work properly\r\n      link.addEventListener('click', (e) => {\r\n        // Only stop propagation on click to prevent card from handling click\r\n        e.stopPropagation();\r\n        // Link will naturally navigate due to href attribute\r\n      });\r\n    });\r\n  }\r\n\r\n  // Apply button effects after card is rendered\r\n  setTimeout(addDynamicButtonEffects, 150);\r\n\r\n  // Close button handler\r\n  document.getElementById('closeContactCard').onclick = () => {\r\n    card.style.animation = 'slideOutRight 0.3s ease-in';\r\n    setTimeout(() => card.remove(), 300);\r\n  };\r\n\r\n  // Auto remove after 30 seconds\r\n  setTimeout(() => {\r\n    if (card.parentNode) {\r\n      card.style.animation = 'slideOutRight 0.3s ease-in';\r\n      setTimeout(() => card.remove(), 300);\r\n    }\r\n  }, 30000);\r\n}\r\n\r\n  // Learn More button functionality\r\n  if (learnMoreBtn) {\r\n    learnMoreBtn.addEventListener('click', () => {\r\n      navigateToSection('features', true);\r\n      showNotification('Discover our amazing features! ‚ú®', 'info');\r\n    });\r\n  }\r\n\r\n  // Emoji button functionality\r\n  if (emojiBtn) {\r\n    emojiBtn.addEventListener('click', () => {\r\n      releaseEmojis();\r\n      showNotification('Spreading happiness! üòÑ‚ú®', 'success');\r\n    });\r\n  }\r\n\r\n  // Back to home section\r\n  backToHero.addEventListener('click', () => {\r\n    navigateToSection('home', true);\r\n  });\r\n\r\n  // Show Tic Tac Toe game\r\n  ticTacToeCard.querySelector('.btn').addEventListener('click', () => {\r\n    navigateToSection('tic-tac-toe', true);\r\n    resetTicTacToeGame();\r\n  });\r\n\r\n  // Show Memory Game\r\n  memoryGameCard.querySelector('.btn').addEventListener('click', () => {\r\n    navigateToSection('memory-game', true);\r\n    resetMemoryGame();\r\n  });\r\n\r\n  // Show Snake Game\r\n  snakeGameCard.querySelector('.btn').addEventListener('click', () => {\r\n    navigateToSection('snake-game', true);\r\n    resetSnakeGame();\r\n  });\r\n\r\n  // Back to games menu\r\n  backToGames.addEventListener('click', () => {\r\n    navigateToSection('games', true);\r\n  });\r\n\r\n  // Back to games from Memory Game\r\n  backToGamesFromMemory.addEventListener('click', () => {\r\n    navigateToSection('games', true);\r\n  });\r\n\r\n  // Back to games from Snake Game\r\n  backToGamesFromSnake.addEventListener('click', () => {\r\n    navigateToSection('games', true);\r\n  });\r\n}\r\n\r\n// Emoji Release Animation\r\nfunction releaseEmojis() {\r\n  const emojis = ['üòä', 'üòÑ', 'üòÅ', 'üòÉ', 'üòÄ', 'üôÇ', 'üòÜ', 'üòã', 'ü§ó', 'üòç', 'ü•∞', 'üòò'];\r\n  const numberOfEmojis = 15;\r\n  \r\n  for (let i = 0; i < numberOfEmojis; i++) {\r\n    setTimeout(() => {\r\n      createFloatingEmoji(emojis[Math.floor(Math.random() * emojis.length)]);\r\n    }, i * 100); // Stagger the emoji creation\r\n  }\r\n}\r\n\r\nfunction createFloatingEmoji(emoji) {\r\n  const emojiElement = document.createElement('div');\r\n  emojiElement.textContent = emoji;\r\n  emojiElement.style.cssText = `\r\n    position: fixed;\r\n    font-size: 2rem;\r\n    pointer-events: none;\r\n    z-index: 9999;\r\n    left: ${Math.random() * window.innerWidth}px;\r\n    top: ${window.innerHeight}px;\r\n    animation: floatUp 3s ease-out forwards;\r\n    user-select: none;\r\n  `;\r\n  \r\n  document.body.appendChild(emojiElement);\r\n  \r\n  // Remove the emoji after animation completes\r\n  setTimeout(() => {\r\n    if (emojiElement.parentNode) {\r\n      emojiElement.remove();\r\n    }\r\n  }, 3000);\r\n}\r\n\r\n// Tic Tac Toe Game Logic\r\nlet ticTacToeState = {\r\n  board: Array(9).fill(''),\r\n  currentPlayer: 'X',\r\n  gameActive: true,\r\n  scores: { X: 0, O: 0 }\r\n};\r\n\r\nfunction setupTicTacToe() {\r\n  const board = document.getElementById('ticTacToeBoard');\r\n  const resetBtn = document.getElementById('resetGame');\r\n  \r\n  // Add click listeners to cells\r\n  board.addEventListener('click', handleCellClick);\r\n  \r\n  // Reset game button\r\n  resetBtn.addEventListener('click', resetTicTacToeGame);\r\n  \r\n  updateTicTacToeDisplay();\r\n}\r\n\r\nfunction handleCellClick(e) {\r\n  if (!e.target.classList.contains('cell')) return;\r\n  \r\n  const index = parseInt(e.target.dataset.index);\r\n  \r\n  if (ticTacToeState.board[index] !== '' || !ticTacToeState.gameActive) return;\r\n  \r\n  // Make move\r\n  ticTacToeState.board[index] = ticTacToeState.currentPlayer;\r\n  e.target.textContent = ticTacToeState.currentPlayer;\r\n  e.target.classList.add('disabled');\r\n  \r\n  // Add modern styling classes for X and O\r\n  if (ticTacToeState.currentPlayer === 'X') {\r\n    e.target.classList.add('x');\r\n  } else {\r\n    e.target.classList.add('o');\r\n  }\r\n  \r\n  // Check for win or draw\r\n  if (checkWinner()) {\r\n    ticTacToeState.scores[ticTacToeState.currentPlayer]++;\r\n    updateTicTacToeDisplay();\r\n    \r\n    // Show winner at bottom instead of notification\r\n    const gameStatus = document.getElementById('gameStatus');\r\n    gameStatus.textContent = `üéâ Player ${ticTacToeState.currentPlayer} wins!`;\r\n    gameStatus.style.color = '#48bb78';\r\n    gameStatus.style.fontWeight = 'bold';\r\n    gameStatus.style.fontSize = '1.2rem';\r\n    \r\n    ticTacToeState.gameActive = false;\r\n    \r\n    // Auto-reset after 3 seconds\r\n    setTimeout(() => {\r\n      resetTicTacToeGame();\r\n    }, 3000);\r\n  } else if (ticTacToeState.board.every(cell => cell !== '')) {\r\n    // Show draw at bottom instead of notification\r\n    const gameStatus = document.getElementById('gameStatus');\r\n    gameStatus.textContent = \"ü§ù It's a draw!\";\r\n    gameStatus.style.color = '#4299e1';\r\n    gameStatus.style.fontWeight = 'bold';\r\n    gameStatus.style.fontSize = '1.2rem';\r\n    \r\n    ticTacToeState.gameActive = false;\r\n    \r\n    // Auto-reset after 3 seconds\r\n    setTimeout(() => {\r\n      resetTicTacToeGame();\r\n    }, 3000);\r\n  } else {\r\n    // Switch player\r\n    ticTacToeState.currentPlayer = ticTacToeState.currentPlayer === 'X' ? 'O' : 'X';\r\n    updateTicTacToeDisplay();\r\n  }\r\n}\r\n\r\nfunction checkWinner() {\r\n  const winPatterns = [\r\n    [0, 1, 2], [3, 4, 5], [6, 7, 8], // Rows\r\n    [0, 3, 6], [1, 4, 7], [2, 5, 8], // Columns\r\n    [0, 4, 8], [2, 4, 6] // Diagonals\r\n  ];\r\n  \r\n  return winPatterns.some(pattern => {\r\n    const [a, b, c] = pattern;\r\n    return ticTacToeState.board[a] !== '' &&\r\n           ticTacToeState.board[a] === ticTacToeState.board[b] &&\r\n           ticTacToeState.board[b] === ticTacToeState.board[c];\r\n  });\r\n}\r\n\r\nfunction resetTicTacToeGame() {\r\n  ticTacToeState.board = Array(9).fill('');\r\n  ticTacToeState.currentPlayer = 'X';\r\n  ticTacToeState.gameActive = true;\r\n  \r\n  // Clear board display\r\n  const cells = document.querySelectorAll('.cell');\r\n  cells.forEach(cell => {\r\n    cell.textContent = '';\r\n    cell.classList.remove('disabled', 'x', 'o');\r\n  });\r\n  \r\n  updateTicTacToeDisplay();\r\n}\r\n\r\nfunction updateTicTacToeDisplay() {\r\n  const currentPlayerElement = document.getElementById('currentPlayer');\r\n  currentPlayerElement.textContent = ticTacToeState.currentPlayer;\r\n  \r\n  // Update current player styling\r\n  currentPlayerElement.classList.remove('player-x', 'player-o');\r\n  if (ticTacToeState.currentPlayer === 'X') {\r\n    currentPlayerElement.classList.add('player-x');\r\n  } else {\r\n    currentPlayerElement.classList.add('player-o');\r\n  }\r\n  \r\n  document.getElementById('scoreX').textContent = ticTacToeState.scores.X;\r\n  document.getElementById('scoreO').textContent = ticTacToeState.scores.O;\r\n  \r\n  const status = document.getElementById('gameStatus');\r\n  if (ticTacToeState.gameActive) {\r\n    status.textContent = `Player ${ticTacToeState.currentPlayer}'s turn`;\r\n    // Reset status styling for active game\r\n    status.style.color = '';\r\n    status.style.fontWeight = '';\r\n    status.style.fontSize = '';\r\n  } else {\r\n    status.textContent = 'Game Over';\r\n  }\r\n}\r\n\r\n// Add CSS animations for notifications\r\nconst notificationStyles = document.createElement('style');\r\nnotificationStyles.textContent = `\r\n  @keyframes slideInRight {\r\n    from {\r\n      opacity: 0;\r\n      transform: translateX(100%);\r\n    }\r\n    to {\r\n      opacity: 1;\r\n      transform: translateX(0);\r\n    }\r\n  }\r\n\r\n  @keyframes slideOutRight {\r\n    from {\r\n      opacity: 1;\r\n      transform: translateX(0);\r\n    }\r\n    to {\r\n      opacity: 0;\r\n      transform: translateX(100%);\r\n    }\r\n  }\r\n\r\n  @keyframes floatUp {\r\n    0% {\r\n      opacity: 1;\r\n      transform: translateY(0) rotate(0deg) scale(1);\r\n    }\r\n    50% {\r\n      opacity: 1;\r\n      transform: translateY(-50vh) rotate(180deg) scale(1.2);\r\n    }\r\n    100% {\r\n      opacity: 0;\r\n      transform: translateY(-100vh) rotate(360deg) scale(0.5);\r\n    }\r\n  }\r\n\r\n  .notification-close {\r\n    background: none;\r\n    border: none;\r\n    color: white;\r\n    font-size: 1.25rem;\r\n    cursor: pointer;\r\n    padding: 0;\r\n    margin: 0;\r\n    line-height: 1;\r\n  }\r\n\r\n  .user-email {\r\n    color: var(--text-primary);\r\n    font-weight: 500;\r\n    font-size: 0.9rem;\r\n  }\r\n\r\n  @media (max-width: 768px) {\r\n    .notification {\r\n      right: 10px;\r\n      left: 10px;\r\n      max-width: none;\r\n    }\r\n    \r\n    .user-email {\r\n      display: none;\r\n    }\r\n  }\r\n  \r\n  .pwa-install-btn {\r\n    animation: pulseGlow 2s infinite !important;\r\n  }\r\n  \r\n  @keyframes pulseGlow {\r\n    0%, 100% { \r\n      transform: scale(1); \r\n      box-shadow: 0 4px 20px rgba(102, 126, 234, 0.4);\r\n    }\r\n    50% { \r\n      transform: scale(1.05); \r\n      box-shadow: 0 8px 30px rgba(102, 126, 234, 0.8);\r\n    }\r\n  }\r\n`;\r\n\r\ndocument.head.appendChild(notificationStyles);\r\n\r\n// Brand Navigation Setup\r\nfunction setupBrandNavigation() {\r\n  const brandTitle = document.querySelector('.nav-brand h1');\r\n  \r\n  if (brandTitle) {\r\n    // Make the brand title clickable\r\n    brandTitle.style.cursor = 'pointer';\r\n    brandTitle.style.transition = 'all 0.3s ease';\r\n    \r\n    // Add hover effect\r\n    brandTitle.addEventListener('mouseenter', () => {\r\n      brandTitle.style.transform = 'scale(1.05)';\r\n      brandTitle.style.color = 'var(--primary-color)';\r\n    });\r\n    \r\n    brandTitle.addEventListener('mouseleave', () => {\r\n      brandTitle.style.transform = 'scale(1)';\r\n      brandTitle.style.color = '';\r\n    });\r\n    \r\n    // Add click handler to navigate to home\r\n    brandTitle.addEventListener('click', () => {\r\n      navigateToSection('home', true);\r\n      showNotification('Welcome home! üè†', 'success');\r\n    });\r\n  }\r\n}\r\n\r\n// Global video player reference and pause function\r\nlet globalVideoPlayer = null;\r\nlet globalVideoState = { isPlaying: true, isMuted: true };\r\nlet localVideoController = null; // Reference to local state updater\r\n\r\nfunction pauseVideoAudio() {\r\n  if (globalVideoPlayer && globalVideoState.isPlaying && !globalVideoState.isMuted) {\r\n    try {\r\n      globalVideoPlayer.pause();\r\n      globalVideoPlayer.setVolume(0);\r\n      globalVideoState.isPlaying = false;\r\n      globalVideoState.isMuted = true;\r\n      showNotification('Video paused - navigated away from home üé•', 'info');\r\n      console.log('Video paused due to navigation away from home');\r\n    } catch (error) {\r\n      console.error('Error pausing video on navigation:', error);\r\n    }\r\n  }\r\n}\r\n\r\nfunction syncVideoStateOnReturn() {\r\n  if (localVideoController) {\r\n    localVideoController.syncState();\r\n    console.log('Video state synced on return to home');\r\n  }\r\n}\r\n\r\n// Video Player Control Logic\r\nfunction setupVideoPlayer() {\r\n  let player;\r\n  let isPlaying = true;\r\n  let isMuted = true;\r\n  \r\n  // Create local controller for state syncing\r\n  localVideoController = {\r\n    syncState: () => {\r\n      isPlaying = globalVideoState.isPlaying;\r\n      isMuted = globalVideoState.isMuted;\r\n      console.log(`Local state synced: playing=${isPlaying}, muted=${isMuted}`);\r\n    }\r\n  };\r\n  \r\n  // Detect Android devices and browsers\r\n  const isAndroid = /Android/i.test(navigator.userAgent);\r\n  const isMobile = /Android|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent);\r\n  \r\n  console.log(`Device detection: Android=${isAndroid}, Mobile=${isMobile}`);\r\n  \r\n  // Wait for Vimeo player script to load\r\n  const initPlayer = () => {\r\n    const iframe = document.getElementById('vimeoPlayer');\r\n    if (!iframe || !window.Vimeo) {\r\n      setTimeout(initPlayer, 100);\r\n      return;\r\n    }\r\n    \r\n    player = new Vimeo.Player(iframe);\r\n    \r\n    // Set global references for external access\r\n    globalVideoPlayer = player;\r\n    globalVideoState.isPlaying = true;\r\n    globalVideoState.isMuted = true;\r\n    \r\n    // Set initial state - muted and playing\r\n    player.setVolume(0).then(() => {\r\n      if (isAndroid) {\r\n        // Standard Android initialization\r\n        setTimeout(() => {\r\n          player.play().catch(error => {\r\n            console.log('Android autoplay blocked, user interaction required');\r\n          });\r\n        }, 500);\r\n      } else {\r\n        player.play();\r\n      }\r\n      console.log('Video initialized: playing and muted');\r\n    });\r\n    \r\n    // Add overlay div for click handling\r\n    const videoContainer = document.querySelector('.hero-video');\r\n    if (videoContainer) {\r\n      // Create an overlay div to capture clicks\r\n      const clickOverlay = document.createElement('div');\r\n      clickOverlay.style.cssText = `\r\n        position: absolute;\r\n        top: 0;\r\n        left: 0;\r\n        width: 100%;\r\n        height: 100%;\r\n        z-index: 10;\r\n        cursor: pointer;\r\n        background: transparent;\r\n        border-radius: 16px;\r\n        -webkit-tap-highlight-color: transparent;\r\n        touch-action: manipulation;\r\n      `;\r\n      \r\n      // Add the overlay to the video container\r\n      const videoWrapper = videoContainer.querySelector('div[style*=\"position:relative\"]');\r\n      if (videoWrapper) {\r\n        videoWrapper.appendChild(clickOverlay);\r\n        \r\n        // Android-specific event handling\r\n        if (isAndroid) {\r\n          let isProcessing = false;\r\n          let lastTouchTime = 0;\r\n          let touchHandled = false;\r\n          \r\n          console.log('Using standard Android handling');\r\n          \r\n          // Use touchstart for immediate response\r\n          clickOverlay.addEventListener('touchstart', (e) => {\r\n            e.preventDefault();\r\n            e.stopPropagation();\r\n            e.stopImmediatePropagation(); // Prevent any other handlers\r\n            \r\n            const currentTime = Date.now();\r\n            \r\n            // Prevent rapid successive touches (debounce)\r\n            if (currentTime - lastTouchTime < 500) {\r\n              console.log('Touch too recent, ignoring');\r\n              return;\r\n            }\r\n            \r\n            // Prevent concurrent processing\r\n            if (isProcessing) {\r\n              console.log('Already processing touch, ignoring');\r\n              return;\r\n            }\r\n            \r\n            lastTouchTime = currentTime;\r\n            isProcessing = true;\r\n            touchHandled = true;\r\n            \r\n            console.log('Android touchstart detected - processing');\r\n            \r\n            // Immediately try to maintain playback state before processing\r\n            if (player && globalVideoState.isPlaying) {\r\n              player.play().catch(() => {\r\n                console.log('Preemptive play failed, will handle in toggle');\r\n              });\r\n            }\r\n            \r\n            // Process touch event\r\n            toggleVideoPlayback().finally(() => {\r\n              // Reset processing flag after a delay\r\n              setTimeout(() => {\r\n                isProcessing = false;\r\n                // Reset touchHandled after a longer delay to prevent click interference\r\n                setTimeout(() => {\r\n                  touchHandled = false;\r\n                }, 100);\r\n              }, 300);\r\n            });\r\n          }, { passive: false });\r\n          \r\n          // Prevent click events from firing after touch\r\n          clickOverlay.addEventListener('click', (e) => {\r\n            e.preventDefault();\r\n            e.stopPropagation();\r\n            \r\n            if (touchHandled) {\r\n              console.log('Click event prevented - touch already handled');\r\n              return;\r\n            }\r\n            \r\n            console.log('Android click event prevented');\r\n          }, { passive: false });\r\n          \r\n          // Clean up touchend to prevent additional events\r\n          clickOverlay.addEventListener('touchend', (e) => {\r\n            e.preventDefault();\r\n            e.stopPropagation();\r\n          }, { passive: false });\r\n          \r\n          // Prevent context menu\r\n          clickOverlay.addEventListener('contextmenu', (e) => {\r\n            e.preventDefault();\r\n          });\r\n          \r\n          // Additional Android-specific event prevention\r\n          clickOverlay.addEventListener('touchmove', (e) => {\r\n            e.preventDefault();\r\n            e.stopPropagation();\r\n          }, { passive: false });\r\n          \r\n          // Prevent browser's default video controls from interfering\r\n          const iframe = document.getElementById('vimeoPlayer');\r\n          if (iframe) {\r\n            iframe.addEventListener('touchstart', (e) => {\r\n              e.stopPropagation(); // Don't let iframe handle touch directly\r\n            }, { passive: false });\r\n            \r\n            iframe.addEventListener('click', (e) => {\r\n              e.preventDefault();\r\n              e.stopPropagation();\r\n            }, { passive: false });\r\n          }\r\n        } else {\r\n          // For iOS and desktop\r\n          clickOverlay.addEventListener('click', (e) => {\r\n            e.preventDefault();\r\n            e.stopPropagation();\r\n            toggleVideoPlayback();\r\n          });\r\n          \r\n          clickOverlay.addEventListener('touchend', (e) => {\r\n            e.preventDefault();\r\n            e.stopPropagation();\r\n            toggleVideoPlayback();\r\n          });\r\n        }\r\n      }\r\n    }\r\n  };\r\n  \r\n  const toggleVideoPlayback = async () => {\r\n    if (!player) {\r\n      console.error('Player not initialized');\r\n      return;\r\n    }\r\n    \r\n    // Add function-level debouncing for Android stability\r\n    if (toggleVideoPlayback.isExecuting) {\r\n      console.log('Toggle already executing, skipping');\r\n      return;\r\n    }\r\n    \r\n    toggleVideoPlayback.isExecuting = true;\r\n    \r\n    try {\r\n      // Get actual player state instead of relying on local variables\r\n      const playerPaused = await player.getPaused();\r\n      const playerVolume = await player.getVolume();\r\n      \r\n      console.log(`Actual player state: paused=${playerPaused}, volume=${playerVolume}`);\r\n      console.log(`Local state before: playing=${isPlaying}, muted=${isMuted}`);\r\n      \r\n      // Sync local state with actual player state\r\n      isPlaying = !playerPaused;\r\n      isMuted = playerVolume === 0;\r\n      \r\n      console.log(`Synced local state: playing=${isPlaying}, muted=${isMuted}`);\r\n      \r\n      // Special handling for Android first interaction - video may have been paused by browser\r\n      if (isAndroid && isMuted && playerPaused) {\r\n        console.log('Android: Video was paused by browser on first interaction - resuming playback with audio');\r\n        // Resume playback immediately and unmute\r\n        await player.play();\r\n        // Small delay before unmuting for Android stability\r\n        await new Promise(resolve => setTimeout(resolve, 100));\r\n        await player.setVolume(1);\r\n        isPlaying = true;\r\n        isMuted = false;\r\n        // Update global state\r\n        globalVideoState.isPlaying = true;\r\n        globalVideoState.isMuted = false;\r\n        showNotification('üîä Audio enabled! Video resumed with sound', 'success');\r\n        console.log('Android: Video resumed and unmuted successfully');\r\n      }\r\n      // Check if this is the first interaction (video playing and muted)\r\n      else if (isPlaying && isMuted) {\r\n        // First touch/click - just unmute and keep playing\r\n        console.log('First interaction - unmuting video while keeping it playing');\r\n        await player.setVolume(1);\r\n        isMuted = false;\r\n        // Update global state\r\n        globalVideoState.isMuted = false;\r\n        showNotification('üîä Audio enabled! Video playing with sound', 'success');\r\n        console.log('Video unmuted successfully, still playing');\r\n      } else if (isPlaying && !isMuted) {\r\n        // Video is playing with sound - pause it\r\n        console.log('Video playing with sound - pausing');\r\n        await player.pause();\r\n        await player.setVolume(0);\r\n        isPlaying = false;\r\n        isMuted = true;\r\n        // Update global state\r\n        globalVideoState.isPlaying = false;\r\n        globalVideoState.isMuted = true;\r\n        showNotification('Video paused üé•', 'info');\r\n        console.log('Video successfully paused and muted');\r\n      } else {\r\n        // Video is paused - play with audio\r\n        console.log('Video paused - playing with sound');\r\n        \r\n        // Standard handling for all browsers\r\n        try {\r\n          await player.play();\r\n          // Add small delay before volume change for Android\r\n          await new Promise(resolve => setTimeout(resolve, 200));\r\n          await player.setVolume(1);\r\n          isPlaying = true;\r\n          isMuted = false;\r\n          // Update global state\r\n          globalVideoState.isPlaying = true;\r\n          globalVideoState.isMuted = false;\r\n          showNotification('Playing with sound üîä', 'success');\r\n          console.log('Video successfully playing with sound');\r\n        } catch (playError) {\r\n          console.log('Play failed, trying alternative approach for Android');\r\n          // Android sometimes needs play first, then volume\r\n          await player.play();\r\n          setTimeout(async () => {\r\n            try {\r\n              await player.setVolume(1);\r\n              isPlaying = true;\r\n              isMuted = false;\r\n              // Update global state\r\n              globalVideoState.isPlaying = true;\r\n              globalVideoState.isMuted = false;\r\n              showNotification('Playing with sound üîä', 'success');\r\n              console.log('Video playing with delayed volume adjustment');\r\n            } catch (volumeError) {\r\n              console.error('Volume adjustment failed:', volumeError);\r\n            }\r\n          }, 300);\r\n        }\r\n      }\r\n    } catch (error) {\r\n      console.error('Video control error:', error);\r\n      showNotification('Video control error', 'error');\r\n    } finally {\r\n      // Always reset the execution flag\r\n      setTimeout(() => {\r\n        toggleVideoPlayback.isExecuting = false;\r\n        console.log('Execution flag reset');\r\n      }, 300);\r\n    }\r\n  };\r\n  \r\n  // Initialize when DOM is ready and Vimeo script loads\r\n  if (document.readyState === 'loading') {\r\n    document.addEventListener('DOMContentLoaded', initPlayer);\r\n  } else {\r\n    initPlayer();\r\n  }\r\n}\r\n\r\n// Memory Game Logic\r\nlet memoryGameState = {\r\n  cards: [],\r\n  flippedCards: [],\r\n  matchedPairs: 0,\r\n  player1Score: 0,\r\n  player2Score: 0,\r\n  currentPlayer: 1,\r\n  gameActive: false\r\n};\r\n\r\nconst memoryGameSymbols = ['üéÆ', 'üéØ', 'üé™', 'üé®', 'üé≠', 'üé™', 'üé≤', 'üé≥'];\r\n\r\nfunction setupMemoryGame() {\r\n  const resetBtn = document.getElementById('resetMemoryGame');\r\n  resetBtn.addEventListener('click', resetMemoryGame);\r\n}\r\n\r\nfunction createMemoryCards() {\r\n  const board = document.getElementById('memoryBoard');\r\n  board.innerHTML = '';\r\n  \r\n  // Create pairs of symbols\r\n  const symbols = [...memoryGameSymbols, ...memoryGameSymbols];\r\n  symbols.sort(() => Math.random() - 0.5);\r\n  \r\n  memoryGameState.cards = symbols.map((symbol, index) => ({\r\n    id: index,\r\n    symbol: symbol,\r\n    flipped: false,\r\n    matched: false\r\n  }));\r\n  \r\n  memoryGameState.cards.forEach((card, index) => {\r\n    const cardElement = document.createElement('div');\r\n    cardElement.className = 'memory-card';\r\n    cardElement.dataset.id = index;\r\n    cardElement.innerHTML = card.symbol;\r\n    cardElement.addEventListener('click', () => handleMemoryCardClick(index));\r\n    board.appendChild(cardElement);\r\n  });\r\n}\r\n\r\nfunction handleMemoryCardClick(cardId) {\r\n  if (!memoryGameState.gameActive) return;\r\n  \r\n  const card = memoryGameState.cards[cardId];\r\n  const cardElement = document.querySelector(`[data-id=\"${cardId}\"]`);\r\n  \r\n  if (card.flipped || card.matched || memoryGameState.flippedCards.length >= 2) return;\r\n  \r\n  // Flip card\r\n  card.flipped = true;\r\n  cardElement.classList.add('flipped');\r\n  memoryGameState.flippedCards.push(cardId);\r\n  \r\n  if (memoryGameState.flippedCards.length === 2) {\r\n    updateMemoryDisplay();\r\n    \r\n    const [firstCardId, secondCardId] = memoryGameState.flippedCards;\r\n    const firstCard = memoryGameState.cards[firstCardId];\r\n    const secondCard = memoryGameState.cards[secondCardId];\r\n    \r\n    if (firstCard.symbol === secondCard.symbol) {\r\n      // Match found - current player gets the point\r\n      setTimeout(() => {\r\n        firstCard.matched = true;\r\n        secondCard.matched = true;\r\n        document.querySelector(`[data-id=\"${firstCardId}\"]`).classList.add('matched');\r\n        document.querySelector(`[data-id=\"${secondCardId}\"]`).classList.add('matched');\r\n        \r\n        // Award point to current player\r\n        if (memoryGameState.currentPlayer === 1) {\r\n          memoryGameState.player1Score++;\r\n        } else {\r\n          memoryGameState.player2Score++;\r\n        }\r\n        memoryGameState.matchedPairs++;\r\n        memoryGameState.flippedCards = [];\r\n        updateMemoryDisplay();\r\n        \r\n        if (memoryGameState.matchedPairs === memoryGameSymbols.length) {\r\n          memoryGameWin();\r\n        }\r\n        // Player gets another turn when they make a match (don't switch players)\r\n      }, 500);\r\n    } else {\r\n      // No match - switch to next player\r\n      setTimeout(() => {\r\n        firstCard.flipped = false;\r\n        secondCard.flipped = false;\r\n        document.querySelector(`[data-id=\"${firstCardId}\"]`).classList.remove('flipped');\r\n        document.querySelector(`[data-id=\"${secondCardId}\"]`).classList.remove('flipped');\r\n        memoryGameState.flippedCards = [];\r\n        \r\n        // Switch to next player\r\n        memoryGameState.currentPlayer = memoryGameState.currentPlayer === 1 ? 2 : 1;\r\n        updateMemoryDisplay();\r\n      }, 1000);\r\n    }\r\n  }\r\n}\r\n\r\nfunction updateMemoryDisplay() {\r\n  document.getElementById('player1Score').textContent = memoryGameState.player1Score;\r\n  document.getElementById('player2Score').textContent = memoryGameState.player2Score;\r\n  document.getElementById('currentMemoryPlayer').textContent = memoryGameState.currentPlayer;\r\n}\r\n\r\nfunction memoryGameWin() {\r\n  memoryGameState.gameActive = false;\r\n  \r\n  // Show winner message at bottom based on scores\r\n  const memoryStatus = document.getElementById('memoryStatus');\r\n  const p1 = memoryGameState.player1Score;\r\n  const p2 = memoryGameState.player2Score;\r\n  let resultText;\r\n  if (p1 > p2) {\r\n    resultText = 'üéâ Player 1 wins!';\r\n  } else if (p2 > p1) {\r\n    resultText = 'üéâ Player 2 wins!';\r\n  } else {\r\n    resultText = \"ü§ù It's a tie!\";\r\n  }\r\n  memoryStatus.textContent = resultText;\r\n  memoryStatus.style.color = '#48bb78';\r\n  memoryStatus.style.fontWeight = 'bold';\r\n  memoryStatus.style.fontSize = '1.2rem';\r\n  \r\n  // Auto-reset after 5 seconds to give more time to read the message\r\n  setTimeout(() => {\r\n    resetMemoryGame();\r\n  }, 5000);\r\n}\r\n\r\nfunction resetMemoryGame() {\r\n  memoryGameState = {\r\n    cards: [],\r\n    flippedCards: [],\r\n    matchedPairs: 0,\r\n    player1Score: 0,\r\n    player2Score: 0,\r\n    currentPlayer: 1,\r\n    gameActive: true\r\n  };\r\n  \r\n  createMemoryCards();\r\n  updateMemoryDisplay();\r\n  \r\n  // Reset status message and styling\r\n  const memoryStatus = document.getElementById('memoryStatus');\r\n  memoryStatus.textContent = 'Click cards to match pairs!';\r\n  memoryStatus.style.color = '';\r\n  memoryStatus.style.fontWeight = '';\r\n  memoryStatus.style.fontSize = '';\r\n}\r\n\r\n// Snake Game Logic\r\nlet snakeGameState = {\r\n  canvas: null,\r\n  ctx: null,\r\n  snake: [\r\n    {x: 200, y: 200}, // Head\r\n    {x: 180, y: 200}  // Body\r\n  ],\r\n  direction: {x: 0, y: 0},\r\n  food: {x: 0, y: 0},\r\n  score: 0,\r\n  highScore: localStorage.getItem('snakeHighScore') || 0,\r\n  gameActive: false,\r\n  gameOver: false,\r\n  gameLoop: null,\r\n  lastMoveTime: 0,\r\n  moveInterval: 150 // Move every 150ms for smooth gameplay - starts slower for better control\r\n};\r\n\r\nfunction setupSnakeGame() {\r\n  const canvas = document.getElementById('snakeCanvas');\r\n  const ctx = canvas.getContext('2d');\r\n  const resetBtn = document.getElementById('resetSnakeGame');\r\n  \r\n  // Only initialize if canvas exists (game section is loaded)\r\n  if (!canvas || !ctx || !resetBtn) {\r\n    return;\r\n  }\r\n  \r\n  snakeGameState.canvas = canvas;\r\n  snakeGameState.ctx = ctx;\r\n  \r\n  resetBtn.addEventListener('click', resetSnakeGame);\r\n  \r\n  // Add keyboard controls\r\n  document.addEventListener('keydown', handleSnakeKeyPress);\r\n  \r\n  // Add touch controls for mobile\r\n  setupTouchControls(canvas);\r\n  \r\n  updateSnakeDisplay();\r\n  \r\n  // Initialize the game in a ready state without triggering game over\r\n  resetSnakeGame();\r\n}\r\n\r\nfunction setupTouchControls(canvas) {\r\n  let touchStartX = 0;\r\n  let touchStartY = 0;\r\n  let touchEndX = 0;\r\n  let touchEndY = 0;\r\n  \r\n  // Handle touch start\r\n  canvas.addEventListener('touchstart', (e) => {\r\n    e.preventDefault();\r\n    const touch = e.touches[0];\r\n    touchStartX = touch.clientX;\r\n    touchStartY = touch.clientY;\r\n  }, { passive: false });\r\n  \r\n  // Handle touch move (for swipe detection)\r\n  canvas.addEventListener('touchmove', (e) => {\r\n    e.preventDefault();\r\n  }, { passive: false });\r\n  \r\n  // Handle touch end (detect swipe direction)\r\n  canvas.addEventListener('touchend', (e) => {\r\n    e.preventDefault();\r\n    const touch = e.changedTouches[0];\r\n    touchEndX = touch.clientX;\r\n    touchEndY = touch.clientY;\r\n    \r\n    handleSwipe();\r\n  }, { passive: false });\r\n  \r\n  function handleSwipe() {\r\n    const deltaX = touchEndX - touchStartX;\r\n    const deltaY = touchEndY - touchStartY;\r\n    const minSwipeDistance = 30; // Minimum distance for a swipe\r\n    \r\n    // Check if it's a significant swipe\r\n    if (Math.abs(deltaX) < minSwipeDistance && Math.abs(deltaY) < minSwipeDistance) {\r\n      return; // Not a swipe, just a tap\r\n    }\r\n    \r\n    // Don't allow movement if game is over\r\n    if (snakeGameState.gameOver) {\r\n      return;\r\n    }\r\n    \r\n    const direction = snakeGameState.direction;\r\n    \r\n    // Start game on first swipe (only if not game over)\r\n    if (!snakeGameState.gameActive && !snakeGameState.gameOver) {\r\n      let newDirection = null;\r\n      \r\n      if (Math.abs(deltaX) > Math.abs(deltaY)) {\r\n        // Horizontal swipe\r\n        if (deltaX > 0) {\r\n          newDirection = {x: 20, y: 0};\r\n        } else if (deltaX < 0) {\r\n          newDirection = {x: -20, y: 0};\r\n        }\r\n      } else {\r\n        // Vertical swipe\r\n        if (deltaY > 0) {\r\n          newDirection = {x: 0, y: 20};\r\n        } else if (deltaY < 0) {\r\n          newDirection = {x: 0, y: -20};\r\n        }\r\n      }\r\n      \r\n      // Check if the new direction would cause immediate collision with body\r\n      if (newDirection) {\r\n        const head = snakeGameState.snake[0];\r\n        const newHead = {\r\n          x: head.x + newDirection.x,\r\n          y: head.y + newDirection.y\r\n        };\r\n        \r\n        // Check if new head position would collide with any body segment\r\n        const wouldCollide = snakeGameState.snake.slice(1).some(segment => \r\n          segment.x === newHead.x && segment.y === newHead.y\r\n        );\r\n        \r\n        if (!wouldCollide) {\r\n          snakeGameState.direction = newDirection;\r\n          snakeGameState.gameActive = true;\r\n          snakeGameState.lastMoveTime = performance.now();\r\n          startSnakeGameLoop();\r\n          document.getElementById('snakeStatus').textContent = 'Game started! ' + (isMobileDevice() ? 'Swipe to move' : 'Use arrow keys to move');\r\n        } else {\r\n          // Show a warning message instead of starting the game\r\n          document.getElementById('snakeStatus').textContent = 'Invalid direction! Try a different swipe.';\r\n          setTimeout(() => {\r\n            document.getElementById('snakeStatus').textContent = isMobileDevice() ? 'Swipe to start playing!' : 'Press any arrow key to start!';\r\n          }, 1500);\r\n        }\r\n      }\r\n      return; // Exit early if game wasn't active\r\n    }\r\n    \r\n    // Determine swipe direction - only if game is active and not over\r\n    if (snakeGameState.gameActive && !snakeGameState.gameOver) {\r\n      if (Math.abs(deltaX) > Math.abs(deltaY)) {\r\n        // Horizontal swipe\r\n        if (deltaX > 0 && direction.x === 0) {\r\n          // Swipe right\r\n          snakeGameState.direction = {x: 20, y: 0};\r\n        } else if (deltaX < 0 && direction.x === 0) {\r\n          // Swipe left\r\n          snakeGameState.direction = {x: -20, y: 0};\r\n        }\r\n      } else {\r\n        // Vertical swipe\r\n        if (deltaY > 0 && direction.y === 0) {\r\n          // Swipe down\r\n          snakeGameState.direction = {x: 0, y: 20};\r\n        } else if (deltaY < 0 && direction.y === 0) {\r\n          // Swipe up\r\n          snakeGameState.direction = {x: 0, y: -20};\r\n        }\r\n      }\r\n    }\r\n  }\r\n}\r\n\r\nfunction handleSnakeKeyPress(e) {\r\n  const key = e.key;\r\n  \r\n  // Prevent arrow keys from scrolling the page\r\n  if (['ArrowUp', 'ArrowDown', 'ArrowLeft', 'ArrowRight', 'Enter'].includes(key)) {\r\n    e.preventDefault();\r\n  }\r\n  \r\n  // Handle game restart with Enter key\r\n  if (key === 'Enter') {\r\n    if (snakeGameState.gameOver) {\r\n      resetSnakeGame();\r\n      return;\r\n    }\r\n  }\r\n  \r\n  // Don't allow movement if game is over\r\n  if (snakeGameState.gameOver) {\r\n    return;\r\n  }\r\n  \r\n  const direction = snakeGameState.direction;\r\n  \r\n  // Start game on first arrow key press (only if not game over)\r\n  if (!snakeGameState.gameActive && !snakeGameState.gameOver) {\r\n    // First check if this key press should start the game\r\n    let newDirection = null;\r\n    \r\n    switch(key) {\r\n      case 'ArrowUp':\r\n      case 'w':\r\n      case 'W':\r\n        newDirection = {x: 0, y: -20};\r\n        break;\r\n      case 'ArrowDown':\r\n      case 's':\r\n      case 'S':\r\n        newDirection = {x: 0, y: 20};\r\n        break;\r\n      case 'ArrowLeft':\r\n      case 'a':\r\n      case 'A':\r\n        newDirection = {x: -20, y: 0};\r\n        break;\r\n      case 'ArrowRight':\r\n      case 'd':\r\n      case 'D':\r\n        newDirection = {x: 20, y: 0};\r\n        break;\r\n    }\r\n    \r\n    // Check if the new direction would cause immediate collision with body\r\n    if (newDirection) {\r\n      const head = snakeGameState.snake[0];\r\n      const newHead = {\r\n        x: head.x + newDirection.x,\r\n        y: head.y + newDirection.y\r\n      };\r\n      \r\n      // Check if new head position would collide with any body segment\r\n      const wouldCollide = snakeGameState.snake.slice(1).some(segment => \r\n        segment.x === newHead.x && segment.y === newHead.y\r\n      );\r\n      \r\n      if (!wouldCollide) {\r\n        // Safe to start game with this direction\r\n        snakeGameState.direction = newDirection;\r\n        snakeGameState.gameActive = true;\r\n        snakeGameState.lastMoveTime = performance.now();\r\n        startSnakeGameLoop();\r\n        document.getElementById('snakeStatus').textContent = 'Game started! ' + (isMobileDevice() ? 'Swipe to move' : 'Use arrow keys to move');\r\n      } else {\r\n        // Show a warning message instead of starting the game\r\n        document.getElementById('snakeStatus').textContent = 'Invalid direction! Try a different key.';\r\n        setTimeout(() => {\r\n          document.getElementById('snakeStatus').textContent = isMobileDevice() ? 'Swipe to start playing!' : 'Press any arrow key to start!';\r\n        }, 1500);\r\n      }\r\n    }\r\n    return; // Exit early if game wasn't active\r\n  }\r\n  \r\n  // Only process arrow keys if game is active and not over\r\n  if (snakeGameState.gameActive && !snakeGameState.gameOver) {\r\n    switch(key) {\r\n      case 'ArrowUp':\r\n      case 'w':\r\n      case 'W':\r\n        if (direction.y === 0) snakeGameState.direction = {x: 0, y: -20};\r\n        break;\r\n      case 'ArrowDown':\r\n      case 's':\r\n      case 'S':\r\n        if (direction.y === 0) snakeGameState.direction = {x: 0, y: 20};\r\n        break;\r\n      case 'ArrowLeft':\r\n      case 'a':\r\n      case 'A':\r\n        if (direction.x === 0) snakeGameState.direction = {x: -20, y: 0};\r\n        break;\r\n      case 'ArrowRight':\r\n      case 'd':\r\n      case 'D':\r\n        if (direction.x === 0) snakeGameState.direction = {x: 20, y: 0};\r\n        break;\r\n    }\r\n  }\r\n}\r\n\r\nfunction generateSnakeFood() {\r\n  let newFood;\r\n  let validPosition = false;\r\n  \r\n  // Keep generating until we find a position not occupied by snake\r\n  while (!validPosition) {\r\n    newFood = {\r\n      x: Math.floor(Math.random() * 20) * 20,\r\n      y: Math.floor(Math.random() * 20) * 20\r\n    };\r\n    \r\n    // Check if food position conflicts with snake\r\n    validPosition = !snakeGameState.snake.some(segment => \r\n      segment.x === newFood.x && segment.y === newFood.y\r\n    );\r\n  }\r\n  \r\n  snakeGameState.food = newFood;\r\n}\r\n\r\nfunction drawSnakeGame() {\r\n  const ctx = snakeGameState.ctx;\r\n  const canvas = snakeGameState.canvas;\r\n  \r\n  // Clear canvas with smooth black background\r\n  ctx.fillStyle = '#000000';\r\n  ctx.fillRect(0, 0, canvas.width, canvas.height);\r\n  \r\n  // Enable smooth rendering\r\n  ctx.imageSmoothingEnabled = true;\r\n  \r\n  // Draw snake with smooth gradients\r\n  snakeGameState.snake.forEach((segment, index) => {\r\n    if (index === 0) {\r\n      // Head - gradient from dark to light green\r\n      const gradient = ctx.createRadialGradient(\r\n        segment.x + 9, segment.y + 9, 2,\r\n        segment.x + 9, segment.y + 9, 12\r\n      );\r\n      gradient.addColorStop(0, '#4ade80');\r\n      gradient.addColorStop(1, '#22c55e');\r\n      ctx.fillStyle = gradient;\r\n    } else {\r\n      // Body - solid bright green with subtle gradient\r\n      const gradient = ctx.createLinearGradient(\r\n        segment.x, segment.y,\r\n        segment.x + 18, segment.y + 18\r\n      );\r\n      gradient.addColorStop(0, '#48bb78');\r\n      gradient.addColorStop(1, '#38a169');\r\n      ctx.fillStyle = gradient;\r\n    }\r\n    \r\n    // Draw rounded rectangle for smoother look\r\n    drawRoundedRect(ctx, segment.x, segment.y, 18, 18, 3);\r\n    \r\n    // Add subtle border\r\n    ctx.strokeStyle = index === 0 ? '#16a34a' : '#2d5a27';\r\n    ctx.lineWidth = 1;\r\n    ctx.stroke();\r\n  });\r\n  \r\n  // Draw food with pulsing effect\r\n  const time = Date.now() * 0.005;\r\n  const pulse = Math.sin(time) * 0.1 + 0.9;\r\n  const size = 18 * pulse;\r\n  const offset = (18 - size) / 2;\r\n  \r\n  const foodGradient = ctx.createRadialGradient(\r\n    snakeGameState.food.x + 9, snakeGameState.food.y + 9, 2,\r\n    snakeGameState.food.x + 9, snakeGameState.food.y + 9, 12\r\n  );\r\n  foodGradient.addColorStop(0, '#fca5a5');\r\n  foodGradient.addColorStop(1, '#ef4444');\r\n  ctx.fillStyle = foodGradient;\r\n  \r\n  drawRoundedRect(ctx, \r\n    snakeGameState.food.x + offset, \r\n    snakeGameState.food.y + offset, \r\n    size, size, 3\r\n  );\r\n  \r\n  ctx.strokeStyle = '#dc2626';\r\n  ctx.lineWidth = 2;\r\n  ctx.stroke();\r\n}\r\n\r\nfunction drawRoundedRect(ctx, x, y, width, height, radius) {\r\n  ctx.beginPath();\r\n  ctx.moveTo(x + radius, y);\r\n  ctx.lineTo(x + width - radius, y);\r\n  ctx.quadraticCurveTo(x + width, y, x + width, y + radius);\r\n  ctx.lineTo(x + width, y + height - radius);\r\n  ctx.quadraticCurveTo(x + width, y + height, x + width - radius, y + height);\r\n  ctx.lineTo(x + radius, y + height);\r\n  ctx.quadraticCurveTo(x, y + height, x, y + height - radius);\r\n  ctx.lineTo(x, y + radius);\r\n  ctx.quadraticCurveTo(x, y, x + radius, y);\r\n  ctx.closePath();\r\n  ctx.fill();\r\n}\r\n\r\nfunction drawGameOverScreen() {\r\n  const ctx = snakeGameState.ctx;\r\n  const canvas = snakeGameState.canvas;\r\n  \r\n  // Don't draw if canvas context is not available\r\n  if (!ctx || !canvas) {\r\n    return;\r\n  }\r\n  \r\n  // Draw semi-transparent overlay\r\n  ctx.fillStyle = 'rgba(0, 0, 0, 0.8)';\r\n  ctx.fillRect(0, 0, canvas.width, canvas.height);\r\n  \r\n  // Draw game over text\r\n  ctx.fillStyle = '#ffffff';\r\n  ctx.font = 'bold 32px Arial';\r\n  ctx.textAlign = 'center';\r\n  ctx.fillText('GAME OVER', canvas.width / 2, canvas.height / 2 - 60);\r\n  \r\n  // Draw score\r\n  ctx.font = 'bold 24px Arial';\r\n  ctx.fillText(`Score: ${snakeGameState.score}`, canvas.width / 2, canvas.height / 2 - 20);\r\n  \r\n  // Draw high score if it's a new record\r\n  if (snakeGameState.score === snakeGameState.highScore && snakeGameState.score > 0) {\r\n    ctx.fillStyle = '#ffd700';\r\n    ctx.fillText('üèÜ NEW HIGH SCORE! üèÜ', canvas.width / 2, canvas.height / 2 + 20);\r\n  } else {\r\n    ctx.fillStyle = '#cccccc';\r\n    ctx.fillText(`High Score: ${snakeGameState.highScore}`, canvas.width / 2, canvas.height / 2 + 20);\r\n  }\r\n  \r\n  // Draw restart instruction\r\n  ctx.fillStyle = '#48bb78';\r\n  ctx.font = 'bold 18px Arial';\r\n  ctx.fillText('Press Enter to Play Again', canvas.width / 2, canvas.height / 2 + 60);\r\n}\r\n\r\nfunction startSnakeGameLoop() {\r\n  function gameLoop(currentTime) {\r\n    if (!snakeGameState.gameActive) return;\r\n    \r\n    // Always draw the game for smooth visuals\r\n    drawSnakeGame();\r\n    \r\n    // Only update game logic at specified intervals\r\n    if (currentTime - snakeGameState.lastMoveTime >= snakeGameState.moveInterval) {\r\n      updateSnakeGame();\r\n      snakeGameState.lastMoveTime = currentTime;\r\n    }\r\n    \r\n    // Continue the loop\r\n    snakeGameState.gameLoop = requestAnimationFrame(gameLoop);\r\n  }\r\n  \r\n  snakeGameState.gameLoop = requestAnimationFrame(gameLoop);\r\n}\r\n\r\nfunction updateSnakeGame() {\r\n  if (!snakeGameState.gameActive || snakeGameState.gameOver) return;\r\n  \r\n  // Don't move if no direction is set\r\n  if (snakeGameState.direction.x === 0 && snakeGameState.direction.y === 0) {\r\n    return;\r\n  }\r\n  \r\n  const head = {\r\n    x: snakeGameState.snake[0].x + snakeGameState.direction.x,\r\n    y: snakeGameState.snake[0].y + snakeGameState.direction.y\r\n  };\r\n  \r\n  // Check wall collision\r\n  if (head.x < 0 || head.x >= 400 || head.y < 0 || head.y >= 400) {\r\n    snakeGameOver();\r\n    return;\r\n  }\r\n  \r\n  // Check self collision\r\n  if (snakeGameState.snake.some(segment => segment.x === head.x && segment.y === head.y)) {\r\n    snakeGameOver();\r\n    return;\r\n  }\r\n  \r\n  snakeGameState.snake.unshift(head);\r\n  \r\n  // Check food collision\r\n  if (head.x === snakeGameState.food.x && head.y === snakeGameState.food.y) {\r\n    snakeGameState.score += 10;\r\n    updateSnakeDisplay();\r\n    generateSnakeFood();\r\n    \r\n    // Increase speed more aggressively as score increases\r\n    if (snakeGameState.moveInterval > 60) {\r\n      snakeGameState.moveInterval = Math.max(60, snakeGameState.moveInterval - 5);\r\n    }\r\n  } else {\r\n    snakeGameState.snake.pop();\r\n  }\r\n}\r\n\r\nfunction snakeGameOver() {\r\n  // Don't show game over if the snake game section isn't even visible\r\n  const snakeGameSection = document.getElementById('snakeGame');\r\n  if (!snakeGameSection || snakeGameSection.style.display === 'none') {\r\n    return;\r\n  }\r\n  \r\n  snakeGameState.gameActive = false;\r\n  snakeGameState.gameOver = true;\r\n  cancelAnimationFrame(snakeGameState.gameLoop);\r\n  \r\n  let gameOverMessage = `Game Over! Score: ${snakeGameState.score}`;\r\n  \r\n  // Only show notifications if the game was actually played (score > 0 or direction was set)\r\n  const gameWasPlayed = snakeGameState.score > 0 || snakeGameState.direction.x !== 0 || snakeGameState.direction.y !== 0;\r\n  \r\n  // Debug: Log when game over is triggered inappropriately\r\n  if (!gameWasPlayed) {\r\n    console.log('Snake game over triggered without gameplay - suppressing notification');\r\n  }\r\n  \r\n  if (snakeGameState.score > snakeGameState.highScore) {\r\n    snakeGameState.highScore = snakeGameState.score;\r\n    localStorage.setItem('snakeHighScore', snakeGameState.highScore);\r\n    updateSnakeDisplay();\r\n    gameOverMessage = `üèÜ New High Score: ${snakeGameState.score}!`;\r\n    if (gameWasPlayed) {\r\n      showNotification(`New High Score: ${snakeGameState.score}! üèÜ`, 'success');\r\n    }\r\n  } else {\r\n    if (gameWasPlayed) {\r\n      showNotification(`Game Over! Score: ${snakeGameState.score}`, 'info');\r\n    }\r\n  }\r\n  \r\n  const statusElement = document.getElementById('snakeStatus');\r\n  if (statusElement) {\r\n    statusElement.textContent = `${gameOverMessage} - ${isMobileDevice() ? 'Tap Reset to play again' : 'Press Enter to play again'}`;\r\n  }\r\n  \r\n  // Draw game over screen\r\n  drawGameOverScreen();\r\n}\r\n\r\nfunction updateSnakeDisplay() {\r\n  document.getElementById('snakeScore').textContent = snakeGameState.score;\r\n  document.getElementById('snakeHighScore').textContent = snakeGameState.highScore;\r\n}\r\n\r\nfunction resetSnakeGame() {\r\n  cancelAnimationFrame(snakeGameState.gameLoop);\r\n  \r\n  // Start with 2 segments: head and one body segment\r\n  // Position them horizontally with body to the RIGHT of head\r\n  // This way, only moving RIGHT (into body) is blocked - all other directions are safe\r\n  snakeGameState.snake = [\r\n    {x: 200, y: 200}, // Head\r\n    {x: 220, y: 200}  // Body (to the RIGHT of head, so only right direction is blocked)\r\n  ];\r\n  snakeGameState.direction = {x: 0, y: 0};\r\n  snakeGameState.score = 0;\r\n  snakeGameState.gameActive = false; // Don't start automatically\r\n  snakeGameState.gameOver = false; // Reset game over state\r\n  snakeGameState.lastMoveTime = 0;\r\n  snakeGameState.moveInterval = 150; // Reset speed to starting speed\r\n  \r\n  generateSnakeFood();\r\n  updateSnakeDisplay();\r\n  document.getElementById('snakeStatus').textContent = isMobileDevice() ? 'Swipe to start playing!' : 'Press any arrow key to start!';\r\n  \r\n  drawSnakeGame();\r\n  \r\n  // Don't start the game loop here - wait for user input\r\n}\r\n"],"names":["APP_VERSION","preventBrowserCaching","registrations","registration","databases","db","e","timestamp","originalFetch","args","url","separator","link","href","cacheNames","cacheName","updateApp","dismissUpdate","notification","fixFormEncoding","hero","initializeApp","setupRouting","waitForFirebase","showNotification","setupAuthentication","firebaseConfig","auth","googleProvider","error","setupiOSFixes","setupAdminPanel","setupModalHandlers","setupMobileMenu","setupFormHandlers","setupFormValidation","setupScrollEffects","setupThemeToggle","setupDynamicBackground","setupButtonShimmer","setupGamesNavigation","setupTicTacToe","setupMemoryGame","setupSnakeGame","setupBrandNavigation","setupVideoPlayer","preventIDMDownload","clearFormErrors","showFieldError","fieldId","message","errorElement","field","errorDiv","emailInputs","passwordInputs","input","isValidEmail","validation","handlePopState","setupNavigationLinks","hash","navigateToSection","section","addToHistory","heroSection","gamesSection","ticTacToeGame","memoryGame","snakeGame","heroVideo","pauseVideoAudio","syncVideoStateOnReturn","updateHeroContent","resetTicTacToeGame","resetMemoryGame","resetSnakeGame","updateActiveNavLink","heroTitle","heroText","getStartedBtn","learnMoreBtn","emojiBtn","content","sectionContent","closeModal","modal","modalOverlay","closeAllModals","mobileToggle","mobileSlideMenu","mobileMenuOverlay","mobileMenuClose","mobileNavLinks","openMobileMenu","closeMobileMenu","mobileThemeToggle","syncThemeIcons","mainIcon","mobileIcon","observer","isProduction","currentDomain","loginBtn","signupBtn","logoutBtn","authButtons","userMenu","loginModal","signupModal","loginModalClose","signupModalClose","loginForm","signupForm","googleLoginBtn","googleSignupBtn","missingElements","user","showUserMenu","showAuthButtons","openModal","handleLogout","handleEmailLogin","handleEmailSignup","handleGoogleAuth","handleForgotPassword","userAvatar","userName","firstInput","email","password","submitBtn","validateLoginForm","setButtonLoading","handleAuthError","name","confirmPassword","validateSignupForm","result","isValid","context","button","loading","type","header","currentScrollY","isDark","setDarkReaderLock","enabled","meta","idmMeta","video","forms","fixedCount","form","mutations","mutation","node","hasFileInput","themeToggle","themeIcon","savedTheme","setTheme","newTheme","theme","themeColorMeta","statusBarMeta","mobileThemeIcon","isMobileDevice","setViewportHeight","vh","checkTheme","viewport","mouseX","mouseY","targetX","targetY","updateBackground","moveX","moveY","backToHero","backToGames","ticTacToeCard","memoryGameCard","snakeGameCard","backToGamesFromMemory","backToGamesFromSnake","releaseEmojis","showContactCard","icons","card","add3DCardEffect","isHovering","rect","x","y","centerX","centerY","hoveredElement","sensitivity","rotateX","rotateY","distance","maxDistance","elevation","shadowBlur","shadowOpacity","shadowOffsetX","shadowOffsetY","addDynamicButtonEffects","socialLinks","glowColors","platform","glowColor","icon","emojis","i","createFloatingEmoji","emoji","emojiElement","ticTacToeState","board","resetBtn","handleCellClick","updateTicTacToeDisplay","index","checkWinner","gameStatus","cell","pattern","a","b","c","currentPlayerElement","status","notificationStyles","brandTitle","globalVideoPlayer","globalVideoState","localVideoController","player","isPlaying","isMuted","isAndroid","isMobile","initPlayer","iframe","videoContainer","clickOverlay","videoWrapper","isProcessing","lastTouchTime","touchHandled","currentTime","toggleVideoPlayback","playerPaused","playerVolume","resolve","volumeError","memoryGameState","memoryGameSymbols","createMemoryCards","symbols","symbol","cardElement","handleMemoryCardClick","cardId","updateMemoryDisplay","firstCardId","secondCardId","firstCard","secondCard","memoryGameWin","memoryStatus","p1","p2","resultText","snakeGameState","canvas","ctx","handleSnakeKeyPress","setupTouchControls","updateSnakeDisplay","touchStartX","touchStartY","touchEndX","touchEndY","touch","handleSwipe","deltaX","deltaY","minSwipeDistance","direction","newDirection","head","newHead","segment","startSnakeGameLoop","key","generateSnakeFood","newFood","validPosition","drawSnakeGame","gradient","drawRoundedRect","time","size","offset","foodGradient","width","height","radius","drawGameOverScreen","gameLoop","updateSnakeGame","snakeGameOver","snakeGameSection","gameOverMessage","gameWasPlayed","statusElement"],"mappings":"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"}